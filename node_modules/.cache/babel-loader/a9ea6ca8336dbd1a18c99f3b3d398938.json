{"ast":null,"code":"import _toConsumableArray from\"E:\\\\github-project\\\\cloudMusic-mobile\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"E:\\\\github-project\\\\cloudMusic-mobile\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{Fragment,useState,useEffect}from\"react\";import musiclist from\"../static/css/musiclist.module.css\";import{getUrl}from\"../store/action/index\";export default function MusicList(props){var data=props.data;// let [show,setShow] = useState(false)\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),musicLocation=_useState2[0],setMuc=_useState2[1];useEffect(function(){// console.log(musicLocation)\n},[musicLocation]);useEffect(function(){//音乐播放\nvar musiclist=document.querySelectorAll(\".musictr\");var audio=document.querySelector(\"audio\");var play=document.querySelector(\".playWrap\");var cover=play.querySelector(\".cover\");if(musiclist.length!==0){_toConsumableArray(musiclist).map(function(item,index){item.onclick=function(){var mucUrl=item.getAttribute(\"musicurl\");var picUrl=item.getAttribute(\"album-id\");getUrl(\"/song/url?id=\".concat(mucUrl)).then(function(res){var music=res.data.data[0].url;console.log(music);if(music!==null){cover.style.backgroundImage=\"url(\".concat(picUrl,\")\");cover.classList.add(\"anima\");cover.style.animationPlayState=\"running\";audio.setAttribute(\"src\",music);play.querySelector(\".play\").style.display=\"block\";play.querySelector(\".end\").style.display=\"none\";}else{alert(\"抱歉，暂时无法播放\");}});};});}});return/*#__PURE__*/React.createElement(Fragment,null,data?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:musiclist.title},/*#__PURE__*/React.createElement(\"h3\",null,/*#__PURE__*/React.createElement(\"span\",null,\"\\u6B4C\\u66F2\\u5217\\u8868\")),/*#__PURE__*/React.createElement(\"span\",{className:musiclist.numbers},/*#__PURE__*/React.createElement(\"span\",null,data.trackCount),\"\\u9996\\u6B4C\"),/*#__PURE__*/React.createElement(\"div\",{className:musiclist.playnumber},\"\\u64AD\\u653E\\uFF1A\",/*#__PURE__*/React.createElement(\"strong\",{className:musiclist.red},data.playCount),\" \\u6B21\"),/*#__PURE__*/React.createElement(\"div\",null)),/*#__PURE__*/React.createElement(\"table\",{className:musiclist.table},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",{className:musiclist.thead},/*#__PURE__*/React.createElement(\"th\",{className:musiclist.head1},/*#__PURE__*/React.createElement(\"div\",null)),/*#__PURE__*/React.createElement(\"th\",{className:musiclist.head2},/*#__PURE__*/React.createElement(\"div\",null,\"\\u6B4C\\u66F2\\u6807\\u9898\")),/*#__PURE__*/React.createElement(\"th\",{className:musiclist.head3},/*#__PURE__*/React.createElement(\"div\",null,\"\\u65F6\\u957F\")),/*#__PURE__*/React.createElement(\"th\",{className:musiclist.head4},/*#__PURE__*/React.createElement(\"div\",null,\"\\u6B4C\\u624B\")),/*#__PURE__*/React.createElement(\"th\",{className:musiclist.head5},/*#__PURE__*/React.createElement(\"div\",null,\"\\u4E13\\u8F91\")))),/*#__PURE__*/React.createElement(\"tbody\",{className:musiclist.tbody},data.tracks.map(function(item,index){return/*#__PURE__*/React.createElement(\"tr\",{key:item.id,musicurl:item.id,\"album-id\":item.al.picUrl,hasshow:\"show\",className:((index+1)%2===0?\"\":musiclist.gray)+\" \"+\"musictr\",onMouseEnter:function onMouseEnter(e){var parentnode=e.target;function Parent(){if(parentnode.parentElement.getAttribute(\"hasshow\")){parentnode.parentElement.querySelector(\"#time\").style.display=\"none\";parentnode.parentElement.querySelector(\"#timeIcons\").style.display=\"block\";}else{parentnode=parentnode.parentElement;Parent();}}Parent();},onClick:function onClick(e){{/**该点击时间中都是异步操作，音乐地址需要在点击时获取这是有的数据没有请求到就会出错所以使用Promise来同步异步操作 */}getUrl(\"/song/url?id=\".concat(item.id)).then(function(res){function muc(Data){return new Promise(function(reslove,reject){setMuc(Data);});}muc(res.data.data[0].url).then(function(){if(musicLocation===null){alert(\"为获取到版权,努力中！\");}});});},onMouseLeave:function onMouseLeave(e){var parentnode=e.target;function Parent(){if(parentnode.parentElement.getAttribute(\"hasshow\")){parentnode.parentElement.querySelector(\"#time\").style.display=\"block\";parentnode.parentElement.querySelector(\"#timeIcons\").style.display=\"none\";}else{parentnode=parentnode.parentElement;Parent();}}Parent();}},/*#__PURE__*/React.createElement(\"td\",{className:musiclist.num},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",{className:musiclist.icon1},\"\\xA0\"),/*#__PURE__*/React.createElement(\"span\",{className:musiclist.num},index+1))),/*#__PURE__*/React.createElement(\"td\",{className:musiclist.muscName},/*#__PURE__*/React.createElement(\"div\",null,item.name)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:musiclist.share},/*#__PURE__*/React.createElement(\"span\",{className:musiclist.time+\" \"+\"timeElement\",id:\"time\"},String(item.dt/1000%60)===\"0\"?item.dt/1000/60<10?\"0\"+item.dt/1000/60:item.dt/1000/60:String(item.dt/1000/60).slice(0,String(item.dt/1000/60).indexOf(\".\"))<10?\"0\"+String(item.dt/1000/60).slice(0,String(item.dt/1000/60).indexOf(\".\")):String(item.dt/1000/60).slice(0,String(item.dt/1000/60).indexOf(\".\")),\".\",String(item.dt/1000%60)===\"0\"?\"00\":String(item.dt/1000%60).slice(0,String(item.dt/1000%60).indexOf(\".\"))<10?String(item.dt/1000%60).slice(0,String(item.dt/1000%60).indexOf(\".\"))+\"0\":String(item.dt/1000%60).slice(0,String(item.dt/1000%60).indexOf(\".\"))),/*#__PURE__*/React.createElement(\"div\",{className:musiclist.show,id:\"timeIcons\"},/*#__PURE__*/React.createElement(\"span\",{className:musiclist.span1}),/*#__PURE__*/React.createElement(\"span\",{className:musiclist.span2}),/*#__PURE__*/React.createElement(\"span\",{className:musiclist.span3}),/*#__PURE__*/React.createElement(\"span\",{className:musiclist.span4})))),/*#__PURE__*/React.createElement(\"td\",{className:\"\"},/*#__PURE__*/React.createElement(\"div\",{className:musiclist.song},item.ar[0].name)),/*#__PURE__*/React.createElement(\"td\",{className:\"\"},/*#__PURE__*/React.createElement(\"div\",{className:musiclist.album},item.al.name)));})))):\"\");}","map":{"version":3,"sources":["E:/github-project/cloudMusic-mobile/src/component/musiclist.js"],"names":["React","Fragment","useState","useEffect","musiclist","getUrl","MusicList","props","data","musicLocation","setMuc","document","querySelectorAll","audio","querySelector","play","cover","length","map","item","index","onclick","mucUrl","getAttribute","picUrl","then","res","music","url","console","log","style","backgroundImage","classList","add","animationPlayState","setAttribute","display","alert","title","numbers","trackCount","playnumber","red","playCount","table","thead","head1","head2","head3","head4","head5","tbody","tracks","id","al","gray","e","parentnode","target","Parent","parentElement","muc","Data","Promise","reslove","reject","num","icon1","muscName","name","share","time","String","dt","slice","indexOf","show","span1","span2","span3","span4","song","ar","album"],"mappings":"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","sourcesContent":["import React,{Fragment, useState, useEffect}from \"react\"\r\nimport musiclist from \"../static/css/musiclist.module.css\"\r\nimport {getUrl} from \"../store/action/index\"\r\nexport default function MusicList(props){\r\n    let {data} = props\r\n    // let [show,setShow] = useState(false)\r\n    let [musicLocation,setMuc] = useState(\"\");\r\n    useEffect(()=>{\r\n        // console.log(musicLocation)\r\n    },[musicLocation])\r\n    useEffect(()=>{\r\n        //音乐播放\r\n        let musiclist = document.querySelectorAll(\".musictr\")\r\n        let audio = document.querySelector(\"audio\")\r\n        let play = document.querySelector(\".playWrap\")\r\n        let cover = play.querySelector(\".cover\")\r\n        if(musiclist.length!==0){\r\n            [...musiclist].map((item,index)=>{\r\n                item.onclick=function(){\r\n                    let mucUrl = item.getAttribute(\"musicurl\")\r\n                    let picUrl = item.getAttribute(\"album-id\")\r\n                    getUrl(`/song/url?id=${mucUrl}`).then((res)=>{\r\n                        let music = res.data.data[0].url;\r\n                        console.log(music)\r\n                        if(music!==null){\r\n                            cover.style.backgroundImage = `url(${picUrl})`;\r\n                            cover.classList.add(\"anima\")\r\n                            cover.style.animationPlayState = \"running\"\r\n                            audio.setAttribute(\"src\",music)\r\n                            play.querySelector(\".play\").style.display=\"block\"\r\n                            play.querySelector(\".end\").style.display=\"none\"\r\n                        }else{\r\n                            alert(\"抱歉，暂时无法播放\")\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n        }\r\n        \r\n        \r\n    })\r\n    return(\r\n        <Fragment>\r\n            {data?(\r\n                <div>\r\n                     <div className={musiclist.title}>\r\n                        <h3>\r\n                            <span>歌曲列表</span>\r\n                        </h3>\r\n                        <span className={musiclist.numbers}>\r\n                            <span>{data.trackCount}</span>首歌\r\n                        </span>\r\n                        <div className={musiclist.playnumber}>播放：<strong  className={musiclist.red}>{data.playCount}</strong> 次</div>\r\n                        <div>\r\n                        </div>\r\n                    </div>\r\n                <table className={musiclist.table}>\r\n                    <thead>\r\n                        <tr className={musiclist.thead}>\r\n                            <th className={musiclist.head1}><div></div></th>\r\n                            <th className={musiclist.head2}><div>歌曲标题</div></th>\r\n                            <th className={musiclist.head3}><div>时长</div></th>\r\n                            <th className={musiclist.head4}><div>歌手</div></th>\r\n                            <th className={musiclist.head5}><div>专辑</div></th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody className={musiclist.tbody}>\r\n                        {data.tracks.map((item,index)=>{\r\n                            \r\n                            return(\r\n                                <tr key={item.id} musicurl={item.id}  album-id={item.al.picUrl} hasshow=\"show\" className={(((index+1)%2===0)?\"\":musiclist.gray)+\" \"+\"musictr\"} \r\n                                onMouseEnter={function(e){\r\n                                    let parentnode = e.target;\r\n                                    function Parent(){\r\n                                        if(parentnode.parentElement.getAttribute(\"hasshow\")){\r\n                                           parentnode.parentElement.querySelector(\"#time\").style.display = \"none\";\r\n                                           parentnode.parentElement.querySelector(\"#timeIcons\").style.display = \"block\"\r\n                                        }else{\r\n                                            parentnode = parentnode.parentElement\r\n                                            Parent()\r\n                                        }\r\n                                    }\r\n                                    Parent()\r\n                                }}\r\n                                onClick={(e)=>{\r\n                                    {/**该点击时间中都是异步操作，音乐地址需要在点击时获取这是有的数据没有请求到就会出错所以使用Promise来同步异步操作 */}\r\n                                    getUrl(`/song/url?id=${item.id}`).then((res)=>{\r\n                                        function muc(Data){\r\n                                            return new Promise((reslove,reject)=>{\r\n                                                setMuc(Data)\r\n                                            })\r\n                                        }\r\n                                        muc(res.data.data[0].url).then(()=>{\r\n                                            if(musicLocation===null){\r\n                                                alert(\"为获取到版权,努力中！\")\r\n                                            }\r\n                                        })\r\n                                    })\r\n                                }}\r\n                                onMouseLeave={function(e){\r\n                                    let parentnode = e.target;\r\n                                    function Parent(){\r\n                                        if(parentnode.parentElement.getAttribute(\"hasshow\")){\r\n                                           parentnode.parentElement.querySelector(\"#time\").style.display = \"block\";\r\n                                           parentnode.parentElement.querySelector(\"#timeIcons\").style.display = \"none\"\r\n                                        }else{\r\n                                            parentnode = parentnode.parentElement\r\n                                            Parent()\r\n                                        }\r\n                                    }\r\n                                    Parent()\r\n                                }}\r\n                                >\r\n                                    <td className={musiclist.num}>\r\n                                        <div>\r\n                                            <span className={musiclist.icon1}>&nbsp;</span>\r\n                                            <span  className={musiclist.num}>{index+1}</span>\r\n                                        </div>\r\n                                    </td>\r\n                                    <td className={musiclist.muscName}>\r\n                                        <div>\r\n                                           {item.name}\r\n                                        </div>\r\n                                    </td>\r\n                                    <td>\r\n                                        <div className={musiclist.share}>\r\n                                            <span className={musiclist.time+\" \"+\"timeElement\"}  id=\"time\">\r\n                                                {String(item.dt/1000%60)===\"0\"?(item.dt/1000/60<10)?(\"0\" + item.dt/1000/60):item.dt/1000/60:String(item.dt/1000/60).slice(0,String(item.dt/1000/60).indexOf(\".\"))<10?\"0\"+String(item.dt/1000/60).slice(0,String(item.dt/1000/60).indexOf(\".\")):String(item.dt/1000/60).slice(0,String(item.dt/1000/60).indexOf(\".\"))}\r\n                                                {\".\"}\r\n                                                {String(item.dt/1000%60)===\"0\"?\"00\":(String(item.dt/1000%60).slice(0,String(item.dt/1000%60).indexOf(\".\")))<10?(String(item.dt/1000%60).slice(0,String(item.dt/1000%60).indexOf(\".\")))+\"0\":(String(item.dt/1000%60).slice(0,String(item.dt/1000%60).indexOf(\".\")))}\r\n                                            </span>\r\n                                            <div className={musiclist.show} id=\"timeIcons\">\r\n                                                <span className={musiclist.span1}></span>\r\n                                                <span className={musiclist.span2}></span>\r\n                                                <span className={musiclist.span3}></span>\r\n                                                <span className={musiclist.span4}></span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </td>\r\n                                    <td className=\"\">\r\n                                        <div className={musiclist.song}>\r\n                                            {item.ar[0].name}\r\n                                        </div>\r\n                                    </td>\r\n                                    <td className=\"\">\r\n                                        <div className={musiclist.album}>\r\n                                            {item.al.name}\r\n                                        </div>\r\n                                    </td>\r\n                                </tr>\r\n                            )\r\n                        })}\r\n                        </tbody>\r\n                </table>\r\n                </div>\r\n               ):\"\"}\r\n        </Fragment>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}