{"ast":null,"code":"function _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nimport { useState, useEffect, useCallback, useMemo } from 'react';\nimport useAsync from '../useAsync';\nimport useUpdateEffect from '../useUpdateEffect';\n\nfunction usePagination(fn, deps, options) {\n  var _deps = Array.isArray(deps) ? deps : [];\n\n  var _options = _typeof(deps) === 'object' && !Array.isArray(deps) ? deps : options || {};\n\n  var _options$defaultPageS = _options.defaultPageSize,\n      defaultPageSize = _options$defaultPageS === void 0 ? 10 : _options$defaultPageS,\n      formatResult = _options.formatResult;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      total = _useState4[0],\n      setTotal = _useState4[1];\n\n  var _useState5 = useState(1),\n      _useState6 = _slicedToArray(_useState5, 2),\n      current = _useState6[0],\n      setCurrent = _useState6[1];\n\n  var _useState7 = useState(defaultPageSize),\n      _useState8 = _slicedToArray(_useState7, 2),\n      pageSize = _useState8[0],\n      setPageSize = _useState8[1];\n\n  var _useState9 = useState(0),\n      _useState10 = _slicedToArray(_useState9, 2),\n      count = _useState10[0],\n      setCount = _useState10[1]; // let shamFn!: (params: FnParams) => Promise<FormattedResult<Item>>;\n  // if (Array.isArray(fn)) {\n  //   shamFn = (params) => {\n  //     return new Promise((resolve) => {\n  //       resolve({\n  //         data: fn.slice((params.current - 1) * params.pageSize, params.current * params.pageSize),\n  //         total: fn.length\n  //       });\n  //     });\n  //   }\n  // }\n\n\n  var _useAsync = useAsync(fn, _deps, {\n    manual: true\n  }),\n      run = _useAsync.run,\n      loading = _useAsync.loading;\n\n  useEffect(function () {\n    run({\n      current: current,\n      pageSize: pageSize\n    }).then(function (res) {\n      if (!res) {\n        return;\n      }\n\n      var formattedResult = formatResult ? formatResult(res) : res;\n\n      if (formattedResult) {\n        if (typeof formattedResult.total === 'number') setTotal(formattedResult.total);\n        if (formattedResult.data) setData(formattedResult.data);\n        if (typeof formattedResult.current === 'number') setCurrent(formattedResult.current);\n        if (typeof formattedResult.pageSize === 'number') setPageSize(formattedResult.pageSize);\n      }\n    });\n  }, [current, pageSize, count]);\n  useUpdateEffect(function () {\n    setCurrent(1);\n    setCount(function (c) {\n      return c + 1;\n    });\n  }, _deps);\n  var totalPage = useMemo(function () {\n    return Math.ceil(total / pageSize);\n  }, [pageSize, total]);\n  var onChange = useCallback(function (c, p) {\n    var toCurrent = c <= 0 ? 1 : c;\n    var toPageSize = p <= 0 ? 1 : p;\n    var tempTotalPage = Math.ceil(total / toPageSize);\n\n    if (toCurrent > tempTotalPage) {\n      toCurrent = tempTotalPage;\n    }\n\n    setCurrent(toCurrent);\n    setPageSize(toPageSize);\n  }, [total]);\n  var changeCurrent = useCallback(function (c) {\n    onChange(c, pageSize);\n  }, [onChange, pageSize]);\n  var changePageSize = useCallback(function (p) {\n    onChange(current, p);\n  }, [onChange, current]);\n  var refresh = useCallback(function () {\n    setCount(function (c) {\n      return c + 1;\n    });\n  }, []);\n  return {\n    data: data,\n    loading: loading,\n    pagination: {\n      current: current,\n      pageSize: pageSize,\n      total: total,\n      totalPage: totalPage,\n      onChange: onChange,\n      changeCurrent: changeCurrent,\n      changePageSize: changePageSize\n    },\n    refresh: refresh\n  };\n}\n\nexport default usePagination;","map":{"version":3,"sources":["E:/github-project/cloudMusic-mobile/node_modules/@umijs/hooks/es/usePagination/index.js"],"names":["_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","TypeError","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","value","length","err","Array","isArray","_typeof","obj","constructor","useState","useEffect","useCallback","useMemo","useAsync","useUpdateEffect","usePagination","fn","deps","options","_deps","_options","_options$defaultPageS","defaultPageSize","formatResult","_useState","_useState2","data","setData","_useState3","_useState4","total","setTotal","_useState5","_useState6","current","setCurrent","_useState7","_useState8","pageSize","setPageSize","_useState9","_useState10","count","setCount","_useAsync","manual","run","loading","then","res","formattedResult","c","totalPage","Math","ceil","onChange","p","toCurrent","toPageSize","tempTotalPage","changeCurrent","changePageSize","refresh","pagination"],"mappings":"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","sourcesContent":["function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { useState, useEffect, useCallback, useMemo } from 'react';\nimport useAsync from '../useAsync';\nimport useUpdateEffect from '../useUpdateEffect';\n\nfunction usePagination(fn, deps, options) {\n  var _deps = Array.isArray(deps) ? deps : [];\n\n  var _options = _typeof(deps) === 'object' && !Array.isArray(deps) ? deps : options || {};\n\n  var _options$defaultPageS = _options.defaultPageSize,\n      defaultPageSize = _options$defaultPageS === void 0 ? 10 : _options$defaultPageS,\n      formatResult = _options.formatResult;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      total = _useState4[0],\n      setTotal = _useState4[1];\n\n  var _useState5 = useState(1),\n      _useState6 = _slicedToArray(_useState5, 2),\n      current = _useState6[0],\n      setCurrent = _useState6[1];\n\n  var _useState7 = useState(defaultPageSize),\n      _useState8 = _slicedToArray(_useState7, 2),\n      pageSize = _useState8[0],\n      setPageSize = _useState8[1];\n\n  var _useState9 = useState(0),\n      _useState10 = _slicedToArray(_useState9, 2),\n      count = _useState10[0],\n      setCount = _useState10[1]; // let shamFn!: (params: FnParams) => Promise<FormattedResult<Item>>;\n  // if (Array.isArray(fn)) {\n  //   shamFn = (params) => {\n  //     return new Promise((resolve) => {\n  //       resolve({\n  //         data: fn.slice((params.current - 1) * params.pageSize, params.current * params.pageSize),\n  //         total: fn.length\n  //       });\n  //     });\n  //   }\n  // }\n\n\n  var _useAsync = useAsync(fn, _deps, {\n    manual: true\n  }),\n      run = _useAsync.run,\n      loading = _useAsync.loading;\n\n  useEffect(function () {\n    run({\n      current: current,\n      pageSize: pageSize\n    }).then(function (res) {\n      if (!res) {\n        return;\n      }\n\n      var formattedResult = formatResult ? formatResult(res) : res;\n\n      if (formattedResult) {\n        if (typeof formattedResult.total === 'number') setTotal(formattedResult.total);\n        if (formattedResult.data) setData(formattedResult.data);\n        if (typeof formattedResult.current === 'number') setCurrent(formattedResult.current);\n        if (typeof formattedResult.pageSize === 'number') setPageSize(formattedResult.pageSize);\n      }\n    });\n  }, [current, pageSize, count]);\n  useUpdateEffect(function () {\n    setCurrent(1);\n    setCount(function (c) {\n      return c + 1;\n    });\n  }, _deps);\n  var totalPage = useMemo(function () {\n    return Math.ceil(total / pageSize);\n  }, [pageSize, total]);\n  var onChange = useCallback(function (c, p) {\n    var toCurrent = c <= 0 ? 1 : c;\n    var toPageSize = p <= 0 ? 1 : p;\n    var tempTotalPage = Math.ceil(total / toPageSize);\n\n    if (toCurrent > tempTotalPage) {\n      toCurrent = tempTotalPage;\n    }\n\n    setCurrent(toCurrent);\n    setPageSize(toPageSize);\n  }, [total]);\n  var changeCurrent = useCallback(function (c) {\n    onChange(c, pageSize);\n  }, [onChange, pageSize]);\n  var changePageSize = useCallback(function (p) {\n    onChange(current, p);\n  }, [onChange, current]);\n  var refresh = useCallback(function () {\n    setCount(function (c) {\n      return c + 1;\n    });\n  }, []);\n  return {\n    data: data,\n    loading: loading,\n    pagination: {\n      current: current,\n      pageSize: pageSize,\n      total: total,\n      totalPage: totalPage,\n      onChange: onChange,\n      changeCurrent: changeCurrent,\n      changePageSize: changePageSize\n    },\n    refresh: refresh\n  };\n}\n\nexport default usePagination;"]},"metadata":{},"sourceType":"module"}