{"ast":null,"code":"var _jsxFileName = \"E:\\\\github-project\\\\cloudMusic-mobile\\\\src\\\\App.js\";\nimport React, { Fragment, useEffect } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport \"./static/css/index.css\";\nimport { headerRouter, childRender } from \"./router/index\";\nimport Header from \"./component/header\";\nimport { useSelector } from \"react-redux\";\nimport Play from \"./component/play\";\n\nfunction App() {\n  let state = useSelector(state => {\n    return state;\n  });\n  let loading = state.bannerReducer.loading;\n  useEffect(() => {\n    //媒体标签和自适应单位设置\n    let head = document.querySelector(\"head\");\n    let piex = window.devicePixelRatio;\n    let meta = document.createElement(\"meta\");\n    let scale = 1 / piex;\n    meta.name = \"viewport\";\n    meta.content = \"width='device-width,user-scalable=no,initial-scale=\" + scale + \",minimum-scale=\" + scale + \",maximum-scale=\" + scale + \"'\";\n    head.appendChild(meta);\n    let html = document.documentElement;\n    let dWidth = html.clientWidth;\n    let font = dWidth / 72 + \"px\";\n    html.style.fontSize = font; //判断设备是否是移动设备\n\n    let usedev = navigator.userAgent;\n    let dev = [\"android\", \"iphone\", \"ipad\", \"symbianos\", \"mobile\", \"Mobile\"];\n    dev.map((item, index) => {\n      if (usedev.indexOf(item) !== -1) {\n        let scri = document.createElement(\"script\");\n        scri.setAttribute(\"src\", \"/static/js/index.js\");\n        scri.setAttribute(\"type\", \"text/js\");\n        head.appendChild(scri);\n      }\n    });\n  });\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 2\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Play, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 4\n    }\n  }, headerRouter.map((item, index) => {\n    return /*#__PURE__*/React.createElement(Route, {\n      key: index,\n      path: item.path,\n      exact: item.exact,\n      render: props => {\n        return item.render(props);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }\n    });\n  }), childRender.map((item, index) => {\n    return /*#__PURE__*/React.createElement(Route, {\n      key: index,\n      path: item.path,\n      exact: item.exact,\n      render: props => {\n        return item.render(props);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 7\n      }\n    });\n  }))));\n}\n\nexport default App;","map":{"version":3,"sources":["E:/github-project/cloudMusic-mobile/src/App.js"],"names":["React","Fragment","useEffect","Route","Switch","headerRouter","childRender","Header","useSelector","Play","App","state","loading","bannerReducer","head","document","querySelector","piex","window","devicePixelRatio","meta","createElement","scale","name","content","appendChild","html","documentElement","dWidth","clientWidth","font","style","fontSize","usedev","navigator","userAgent","dev","map","item","index","indexOf","scri","setAttribute","path","exact","props","render"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport \"./static/css/index.css\"\nimport {headerRouter,childRender} from \"./router/index\"\nimport Header from \"./component/header\"\nimport {useSelector} from \"react-redux\"\nimport Play from \"./component/play\"\nfunction App() {\nlet state = (useSelector((state)=>{\n\treturn state\n}))\nlet loading = state.bannerReducer.loading;\nuseEffect(()=>{\n\t//媒体标签和自适应单位设置\n\t\n\tlet head = document.querySelector(\"head\")\n\tlet piex = window.devicePixelRatio;\n\tlet meta = document.createElement(\"meta\")\n\tlet scale = 1/piex;\n\tmeta.name=\"viewport\"\n\tmeta.content=\"width='device-width,user-scalable=no,initial-scale=\"+scale+\",minimum-scale=\"+scale+\",maximum-scale=\"+scale+\"'\"\n\thead.appendChild(meta)\n\t\n\tlet html = document.documentElement\n\tlet dWidth = html.clientWidth;\n\tlet font=dWidth/72 + \"px\"\n\thtml.style.fontSize = font;\n\n\t//判断设备是否是移动设备\n\tlet usedev = navigator.userAgent\n\tlet dev = [\n\t\t\"android\",\n\t\t\"iphone\",\n\t\t\"ipad\",\n\t\t\"symbianos\",\n\t\t\"mobile\",\n\t\t\"Mobile\"\n\t]\n\tdev.map((item,index)=>{\n\t\tif(usedev.indexOf(item)!==-1){\n\t\t\tlet scri = document.createElement(\"script\")\n\t\t\tscri.setAttribute(\"src\",\"/static/js/index.js\")\n\t\t\tscri.setAttribute(\"type\",\"text/js\")\n\t\t\thead.appendChild(scri)\n\t\t}\n\t})\n\n})\nreturn (\n\t<Fragment>\n\t\t<div className=\"App\">\n\t\t\t<Play/>\n\t\t\t{/* <div className={loading?\"loading\":\"loadingend\"}>\n\t\t\t\t<p id=\"loading\">Loading<span>.</span><span>.</span><span>.</span></p>\n\t\t\t</div> */}\n\t\t\t<Header/>\n\t\t\t<Switch>\n\t\t\t\t{headerRouter.map((item,index)=>{\n\t\t\t\t\treturn(\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tpath={item.path}\n\t\t\t\t\t\t\texact={item.exact}\n\t\t\t\t\t\t\trender={(props)=>{\n\t\t\t\t\t\t\t\treturn item.render(props)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t></Route>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t\t{childRender.map((item,index)=>{\n\t\t\t\t\treturn(\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tpath={item.path}\n\t\t\t\t\t\t\texact={item.exact}\n\t\t\t\t\t\t\trender={(props)=>{\n\t\t\t\t\t\t\t\treturn item.render(props)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t></Route>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t</Switch>\n\t\t</div>\n\t</Fragment>\n  );\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}