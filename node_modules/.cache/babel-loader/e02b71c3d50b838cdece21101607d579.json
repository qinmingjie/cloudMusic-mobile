{"ast":null,"code":"function _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nimport { useMemo, useState, useRef, useCallback } from 'react';\n;\n\nvar getProps = function getProps(callback, setIsHovering) {\n  return {\n    onDragOver: function onDragOver(event) {\n      event.preventDefault();\n    },\n    onDragEnter: function onDragEnter(event) {\n      event.preventDefault();\n      setIsHovering(true);\n    },\n    onDragLeave: function onDragLeave() {\n      setIsHovering(false);\n    },\n    onDrop: function onDrop(event) {\n      event.preventDefault();\n      event.persist();\n      setIsHovering(false);\n      callback(event.dataTransfer, event);\n    },\n    onPaste: function onPaste(event) {\n      event.persist();\n      callback(event.clipboardData, event);\n    }\n  };\n};\n\nvar useDrop = function useDrop() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var optionsRef = useRef(options);\n  optionsRef.current = options;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isHovering = _useState2[0],\n      setIsHovering = _useState2[1];\n\n  var callback = useCallback(function (dataTransfer, event) {\n    var uri = dataTransfer.getData('text/uri-list');\n    var dom = dataTransfer.getData('custom');\n\n    if (dom && optionsRef.current.onDom) {\n      optionsRef.current.onDom(JSON.parse(dom), event);\n      return;\n    }\n\n    if (uri && optionsRef.current.onUri) {\n      optionsRef.current.onUri(uri, event);\n      return;\n    }\n\n    if (dataTransfer.files && dataTransfer.files.length && optionsRef.current.onFiles) {\n      optionsRef.current.onFiles(_toConsumableArray(dataTransfer.files), event);\n      return;\n    }\n\n    if (dataTransfer.items && dataTransfer.items.length && optionsRef.current.onText) {\n      dataTransfer.items[0].getAsString(function (text) {\n        optionsRef.current.onText(text, event);\n      });\n    }\n  }, []);\n  var props = useMemo(function () {\n    return getProps(callback, setIsHovering);\n  }, [callback, setIsHovering]);\n  return [props, {\n    isHovering: isHovering\n  }];\n};\n\nexport default useDrop;","map":{"version":3,"sources":["E:/github-project/cloudMusic-mobile/node_modules/@umijs/hooks/es/useDrop/useDrop.js"],"names":["_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","TypeError","iter","Symbol","iterator","Object","prototype","toString","call","Array","from","isArray","i","arr2","length","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","value","err","useMemo","useState","useRef","useCallback","getProps","callback","setIsHovering","onDragOver","event","preventDefault","onDragEnter","onDragLeave","onDrop","persist","dataTransfer","onPaste","clipboardData","useDrop","options","arguments","optionsRef","current","_useState","_useState2","isHovering","uri","getData","dom","onDom","JSON","parse","onUri","files","onFiles","items","onText","getAsString","text","props"],"mappings":"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","sourcesContent":["function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useMemo, useState, useRef, useCallback } from 'react';\n;\n\nvar getProps = function getProps(callback, setIsHovering) {\n  return {\n    onDragOver: function onDragOver(event) {\n      event.preventDefault();\n    },\n    onDragEnter: function onDragEnter(event) {\n      event.preventDefault();\n      setIsHovering(true);\n    },\n    onDragLeave: function onDragLeave() {\n      setIsHovering(false);\n    },\n    onDrop: function onDrop(event) {\n      event.preventDefault();\n      event.persist();\n      setIsHovering(false);\n      callback(event.dataTransfer, event);\n    },\n    onPaste: function onPaste(event) {\n      event.persist();\n      callback(event.clipboardData, event);\n    }\n  };\n};\n\nvar useDrop = function useDrop() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var optionsRef = useRef(options);\n  optionsRef.current = options;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isHovering = _useState2[0],\n      setIsHovering = _useState2[1];\n\n  var callback = useCallback(function (dataTransfer, event) {\n    var uri = dataTransfer.getData('text/uri-list');\n    var dom = dataTransfer.getData('custom');\n\n    if (dom && optionsRef.current.onDom) {\n      optionsRef.current.onDom(JSON.parse(dom), event);\n      return;\n    }\n\n    if (uri && optionsRef.current.onUri) {\n      optionsRef.current.onUri(uri, event);\n      return;\n    }\n\n    if (dataTransfer.files && dataTransfer.files.length && optionsRef.current.onFiles) {\n      optionsRef.current.onFiles(_toConsumableArray(dataTransfer.files), event);\n      return;\n    }\n\n    if (dataTransfer.items && dataTransfer.items.length && optionsRef.current.onText) {\n      dataTransfer.items[0].getAsString(function (text) {\n        optionsRef.current.onText(text, event);\n      });\n    }\n  }, []);\n  var props = useMemo(function () {\n    return getProps(callback, setIsHovering);\n  }, [callback, setIsHovering]);\n  return [props, {\n    isHovering: isHovering\n  }];\n};\n\nexport default useDrop;"]},"metadata":{},"sourceType":"module"}