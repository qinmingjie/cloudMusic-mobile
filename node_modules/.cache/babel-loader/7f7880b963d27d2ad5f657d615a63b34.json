{"ast":null,"code":"import React,{useEffect}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{useMRecommend}from\"../store/action/index\";import{useLocation,NavLink}from\"react-router-dom\";function MRecommend(props){var url=props.url,cat=props.cat,page=props.page,limit=props.limit;var state=useSelector(function(state){return state.MrecommendReducer;//获取状态管理函数中的状态数据\n});var data=state.data;var getData=useMRecommend();//获取操作数据的函数\nuseEffect(function(){getData(\"\".concat(url,\"?cat=\").concat(cat,\"&limit=\").concat(limit));//在组件跟新是使用操作函数来获取数据然后返回到状态管理函数中\n},[cat,page]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"ul\",{className:\"Mrec-mucWrap\"},data.length!==undefined?\"\":data.result?data.result.slice(0,8).map(function(item,index){return/*#__PURE__*/React.createElement(\"li\",{key:item.name},/*#__PURE__*/React.createElement(\"div\",{className:\"Mrec-muc\"},/*#__PURE__*/React.createElement(\"img\",{src:item.picUrl,alt:\"\"}),/*#__PURE__*/React.createElement(NavLink,{to:\"/index/mdetail?id=\".concat(item.id),className:\"Mcover\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"Mrec-icon\"},/*#__PURE__*/React.createElement(\"span\",{className:\"Mset-icon\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"Micon-txt\"},String(item.playCount).length>4?String(item.playCount).length>8?String(item.playCount).slice(0,-8)+\"亿\":String(item.playCount).slice(0,-4)+\"万\":item.playCount),/*#__PURE__*/React.createElement(NavLink,{to:\"/index/mdetail?id=\".concat(item.id),className:\"Mp-icon\"})),/*#__PURE__*/React.createElement(\"p\",{className:\"Mrec-mucTxt\"},/*#__PURE__*/React.createElement(NavLink,{to:\"/index/mdetail?id=\".concat(item.id)},item.name))));}):data.playlists.slice(page*20,page*20+20).map(function(item,index){return/*#__PURE__*/React.createElement(\"li\",{key:index,className:\"Mplaylists\"},/*#__PURE__*/React.createElement(\"div\",{className:\"Mrec-muc\"},/*#__PURE__*/React.createElement(\"img\",{src:item.coverImgUrl,alt:\"\"}),/*#__PURE__*/React.createElement(NavLink,{to:\"/index/mdetail?id=\".concat(item.id),className:\"Mcover\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"rec-icon\"},/*#__PURE__*/React.createElement(\"span\",{className:\"Mset-icon\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"Micon-txt\"},String(item.playCount).length>4?String(item.playCount).length>8?String(item.playCount).slice(0,-8)+\"亿\":String(item.playCount).slice(0,-4)+\"万\":item.playCount),/*#__PURE__*/React.createElement(NavLink,{to:\"/index/mdetail?id=\".concat(item.id),className:\"Mp-icon\"})),/*#__PURE__*/React.createElement(\"p\",{className:\"Mrec-mucTxt\"},/*#__PURE__*/React.createElement(NavLink,{to:\"/index/mdetail?id=\".concat(item.id)},page,item.name))));})));}export default MRecommend;","map":{"version":3,"sources":["E:/github-project/cloudMusic-mobile/src/mobileconponemt/mrecommend.js"],"names":["React","useEffect","useSelector","useDispatch","useMRecommend","useLocation","NavLink","MRecommend","props","url","cat","page","limit","state","MrecommendReducer","data","getData","length","undefined","result","slice","map","item","index","name","picUrl","id","String","playCount","playlists","coverImgUrl"],"mappings":"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","sourcesContent":["import React, { useEffect} from \"react\"\r\nimport {useSelector, useDispatch} from \"react-redux\"\r\nimport {useMRecommend} from \"../store/action/index\"\r\nimport {useLocation,NavLink} from \"react-router-dom\"\r\nfunction MRecommend(props){\r\n    let {url,cat,page,limit} = props\r\n    let state = useSelector((state)=>{\r\n        return state.MrecommendReducer   //获取状态管理函数中的状态数据\r\n    })\r\n    let {data} = state\r\n    let getData = useMRecommend();  //获取操作数据的函数\r\n    useEffect(()=>{\r\n        getData(`${url}?cat=${cat}&limit=${limit}`)   //在组件跟新是使用操作函数来获取数据然后返回到状态管理函数中\r\n    },[cat,page])\r\n    return(\r\n        <div>\r\n            <ul className=\"Mrec-mucWrap\">\r\n                {data.length!==undefined?\"\":(data.result?data.result.slice(0,8).map((item,index)=>{\r\n                    return (\r\n                        <li key={item.name}>\r\n                            <div className=\"Mrec-muc\">\r\n                                <img src={item.picUrl} alt=\"\"/>\r\n                                <NavLink to={`/index/mdetail?id=${item.id}`} className=\"Mcover\"></NavLink>\r\n                                <div className=\"Mrec-icon\">\r\n                                    <span className=\"Mset-icon\"></span>\r\n                                    <span className=\"Micon-txt\">{String(item.playCount).length>4?(String(item.playCount).length>8?String(item.playCount).slice(0,-8)+\"亿\":String(item.playCount).slice(0,-4)+\"万\"):item.playCount}</span>\r\n                                    <NavLink to={`/index/mdetail?id=${item.id}`} className=\"Mp-icon\"></NavLink>\r\n                                </div>\r\n                                <p className=\"Mrec-mucTxt\">\r\n                                    <NavLink to={`/index/mdetail?id=${item.id}`}>\r\n                                        {item.name}\r\n                                    </NavLink>\r\n                                </p>\r\n                            </div>\r\n                        </li>\r\n                    )\r\n                }):data.playlists.slice((page)*20,(page)*20+20).map((item,index)=>{\r\n                    return(\r\n                        <li key={index} className=\"Mplaylists\">\r\n                            <div className=\"Mrec-muc\">\r\n                                <img src={item.coverImgUrl} alt=\"\"/>\r\n                                <NavLink to={`/index/mdetail?id=${item.id}`} className=\"Mcover\"></NavLink>\r\n                                <div className=\"rec-icon\">\r\n                                    <span className=\"Mset-icon\"></span>\r\n                                    <span className=\"Micon-txt\">{String(item.playCount).length>4?(String(item.playCount).length>8?String(item.playCount).slice(0,-8)+\"亿\":String(item.playCount).slice(0,-4)+\"万\"):item.playCount}</span>\r\n                                    <NavLink to={`/index/mdetail?id=${item.id}`} className=\"Mp-icon\"></NavLink>\r\n                                </div>\r\n                                <p className=\"Mrec-mucTxt\">\r\n                                    <NavLink to={`/index/mdetail?id=${item.id}`}>\r\n                                        {page}{item.name}\r\n                                    </NavLink>\r\n                                </p>\r\n                            </div>\r\n                        </li>\r\n                    )\r\n                }))}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MRecommend;"]},"metadata":{},"sourceType":"module"}