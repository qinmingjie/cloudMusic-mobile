{"ast":null,"code":"import React,{useEffect}from\"react\";import Play from\"../component/play\";import qs from\"qs\";import{useLocation}from\"react-router-dom\";import{useMusicurl,getUrl}from\"../store/action/index\";import{useSelector}from\"react-redux\";import def from\"../static/img/default.jpg\";export default function Mplay(props){console.log(props);var location=useLocation().search;var _qs$parse=qs.parse(location.slice(1)),id=_qs$parse.id;var state=useSelector(function(state){return state.musicReducer;});var imgurl=useSelector(function(state){return state.ImgUlr.url;});console.log(imgurl);var getData=useMusicurl();useEffect(function(){// 获取音乐和图片\ngetData(\"/song/url?id=\".concat(id));},[id]);var data=state.data;return/*#__PURE__*/React.createElement(\"div\",{className:\"m-playWrap\"},/*#__PURE__*/React.createElement(\"div\",{className:\"m-p-header\"},/*#__PURE__*/React.createElement(\"span\",{className:\"m-p-logo\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"m-p-arm\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"m-p-disc\"},/*#__PURE__*/React.createElement(\"div\",{className:\"m-ani-wrap\"},/*#__PURE__*/React.createElement(\"div\",{className:\"m-ani-arl\"},/*#__PURE__*/React.createElement(\"img\",{src:imgurl.length===0?def:imgurl})),/*#__PURE__*/React.createElement(\"span\",null))));}","map":{"version":3,"sources":["E:/github-project/cloudMusic-mobile/src/mobileconponemt/mplay.js"],"names":["React","useEffect","Play","qs","useLocation","useMusicurl","getUrl","useSelector","def","Mplay","props","console","log","location","search","parse","slice","id","state","musicReducer","imgurl","ImgUlr","url","getData","data","length"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,MAAOC,CAAAA,EAAP,KAAe,IAAf,CACA,OAAQC,WAAR,KAA0B,kBAA1B,CACA,OAAQC,WAAR,CAAoBC,MAApB,KAAiC,uBAAjC,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,MAAOC,CAAAA,GAAP,KAAgB,2BAAhB,CACA,cAAe,SAASC,CAAAA,KAAT,CAAeC,KAAf,CAAqB,CAChCC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACA,GAAIG,CAAAA,QAAQ,CAAGT,WAAW,GAAGU,MAA7B,CAFgC,cAGrBX,EAAE,CAACY,KAAH,CAASF,QAAQ,CAACG,KAAT,CAAe,CAAf,CAAT,CAHqB,CAG3BC,EAH2B,WAG3BA,EAH2B,CAIhC,GAAIC,CAAAA,KAAK,CAAGX,WAAW,CAAC,SAACW,KAAD,CAAS,CAC7B,MAAOA,CAAAA,KAAK,CAACC,YAAb,CACH,CAFsB,CAAvB,CAGA,GAAIC,CAAAA,MAAM,CAAGb,WAAW,CAAC,SAACW,KAAD,CAAS,CAC9B,MAAOA,CAAAA,KAAK,CAACG,MAAN,CAAaC,GAApB,CACH,CAFuB,CAAxB,CAGAX,OAAO,CAACC,GAAR,CAAYQ,MAAZ,EACA,GAAIG,CAAAA,OAAO,CAAGlB,WAAW,EAAzB,CACAJ,SAAS,CAAC,UAAI,CACV;AACAsB,OAAO,wBAAiBN,EAAjB,EAAP,CACH,CAHQ,CAGP,CAACA,EAAD,CAHO,CAAT,CAZgC,GAgB3BO,CAAAA,IAhB2B,CAgBnBN,KAhBmB,CAgB3BM,IAhB2B,CAiBhC,mBACG,2BAAK,SAAS,CAAC,YAAf,eACK,2BAAK,SAAS,CAAC,YAAf,eACG,4BAAM,SAAS,CAAC,UAAhB,EADH,cAEG,2BAAK,SAAS,CAAC,SAAf,EAFH,CADL,cAKK,2BAAK,SAAS,CAAC,UAAf,eACI,2BAAK,SAAS,CAAC,YAAf,eACI,2BAAK,SAAS,CAAC,WAAf,eACI,2BAAK,GAAG,CAAGJ,MAAM,CAACK,MAAP,GAAgB,CAAjB,CAAoBjB,GAApB,CAAwBY,MAAlC,EADJ,CADJ,cAII,gCAJJ,CADJ,CALL,CADH,CAgBH","sourcesContent":["import React, { useEffect } from \"react\"\r\nimport Play from \"../component/play\"\r\nimport qs from \"qs\"\r\nimport {useLocation} from \"react-router-dom\"\r\nimport {useMusicurl,getUrl} from \"../store/action/index\"\r\nimport { useSelector } from \"react-redux\"\r\nimport def from \"../static/img/default.jpg\"\r\nexport default function Mplay(props){\r\n    console.log(props)\r\n    let location = useLocation().search\r\n    let {id} = qs.parse(location.slice(1))\r\n    let state = useSelector((state)=>{\r\n        return state.musicReducer\r\n    })\r\n    let imgurl = useSelector((state)=>{\r\n        return state.ImgUlr.url\r\n    })\r\n    console.log(imgurl)\r\n    let getData = useMusicurl()\r\n    useEffect(()=>{\r\n        // 获取音乐和图片\r\n        getData(`/song/url?id=${id}`);\r\n    },[id])\r\n    let {data} = state;\r\n    return (\r\n       <div className=\"m-playWrap\">\r\n            <div className=\"m-p-header\">\r\n               <span className=\"m-p-logo\"></span>\r\n               <div className=\"m-p-arm\"></div>\r\n            </div>\r\n            <div className=\"m-p-disc\">\r\n                <div className=\"m-ani-wrap\">\r\n                    <div className=\"m-ani-arl\">\r\n                        <img src={(imgurl.length===0)?def:imgurl}/>\r\n                    </div>\r\n                    <span></span>\r\n                </div>\r\n            </div>\r\n       </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}