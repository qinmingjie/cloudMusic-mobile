{"ast":null,"code":"import { useRef } from 'react';\nexport default function useCreation(factory, deps) {\n  var _useRef = useRef({\n    deps: deps,\n    obj: undefined,\n    initialized: false\n  }),\n      current = _useRef.current;\n\n  if (current.initialized === false || !depsAreSame(current.deps, deps)) {\n    current.deps = deps;\n    current.obj = factory();\n    current.initialized = true;\n  }\n\n  return current.obj;\n}\n\nfunction depsAreSame(oldDeps, deps) {\n  if (oldDeps === deps) return true;\n\n  for (var i in oldDeps) {\n    if (oldDeps[i] !== deps[i]) return false;\n  }\n\n  return true;\n}","map":{"version":3,"sources":["E:/github-project/cloudMusic-mobile/node_modules/@umijs/hooks/es/useCreation/index.js"],"names":["useRef","useCreation","factory","deps","_useRef","obj","undefined","initialized","current","depsAreSame","oldDeps","i"],"mappings":"AAAA,SAASA,MAAT,QAAuB,OAAvB;AACA,eAAe,SAASC,WAAT,CAAqBC,OAArB,EAA8BC,IAA9B,EAAoC;AACjD,MAAIC,OAAO,GAAGJ,MAAM,CAAC;AACnBG,IAAAA,IAAI,EAAEA,IADa;AAEnBE,IAAAA,GAAG,EAAEC,SAFc;AAGnBC,IAAAA,WAAW,EAAE;AAHM,GAAD,CAApB;AAAA,MAKIC,OAAO,GAAGJ,OAAO,CAACI,OALtB;;AAOA,MAAIA,OAAO,CAACD,WAAR,KAAwB,KAAxB,IAAiC,CAACE,WAAW,CAACD,OAAO,CAACL,IAAT,EAAeA,IAAf,CAAjD,EAAuE;AACrEK,IAAAA,OAAO,CAACL,IAAR,GAAeA,IAAf;AACAK,IAAAA,OAAO,CAACH,GAAR,GAAcH,OAAO,EAArB;AACAM,IAAAA,OAAO,CAACD,WAAR,GAAsB,IAAtB;AACD;;AAED,SAAOC,OAAO,CAACH,GAAf;AACD;;AAED,SAASI,WAAT,CAAqBC,OAArB,EAA8BP,IAA9B,EAAoC;AAClC,MAAIO,OAAO,KAAKP,IAAhB,EAAsB,OAAO,IAAP;;AAEtB,OAAK,IAAIQ,CAAT,IAAcD,OAAd,EAAuB;AACrB,QAAIA,OAAO,CAACC,CAAD,CAAP,KAAeR,IAAI,CAACQ,CAAD,CAAvB,EAA4B,OAAO,KAAP;AAC7B;;AAED,SAAO,IAAP;AACD","sourcesContent":["import { useRef } from 'react';\nexport default function useCreation(factory, deps) {\n  var _useRef = useRef({\n    deps: deps,\n    obj: undefined,\n    initialized: false\n  }),\n      current = _useRef.current;\n\n  if (current.initialized === false || !depsAreSame(current.deps, deps)) {\n    current.deps = deps;\n    current.obj = factory();\n    current.initialized = true;\n  }\n\n  return current.obj;\n}\n\nfunction depsAreSame(oldDeps, deps) {\n  if (oldDeps === deps) return true;\n\n  for (var i in oldDeps) {\n    if (oldDeps[i] !== deps[i]) return false;\n  }\n\n  return true;\n}"]},"metadata":{},"sourceType":"module"}