{"ast":null,"code":"import _toConsumableArray from\"E:\\\\github-project\\\\cloudMusic-mobile\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"E:\\\\github-project\\\\cloudMusic-mobile\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,createElement}from\"react\";import{useSelector}from\"react-redux\";import{useNewDics}from\"../store/action/index\";import{useLocation}from\"react-router-dom\";function NewDics(){var loca=useLocation().pathname;//获取管理状态仓库\nvar state=useSelector(function(state){return state.newdicsReducer;});//获取仓库管理函数操作状态函数，获取新碟上架数据\nvar getData=useNewDics();useEffect(function(){getData(\"/album/newest\");},[loca]);var data=state.data;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),ulloc=_useState2[0],setul=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),time=_useState4[0],setTime=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),userClick=_useState6[0],setClick=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),contro=_useState8[0],setcontro=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),docuwidth=_useState10[0],setwidth=_useState10[1];useEffect(function(){if(data.length==undefined){// 获取元素节点和信息1克隆2克隆  再点3删除回到1\nvar ul=document.querySelector(\".newDic-Name\");var list=ul.querySelectorAll(\".newDicList\");var liwidth=list[0].clientWidth;var next=document.querySelector(\".newDic-next\");var prev=document.querySelector(\".newDic-prev\");setwidth(liwidth);//右击移动图片计时器\nfunction imgmoveR(){setClick(true);// console.log(ulloc)\nvar rightmove=setInterval(function(){//获取当前图片的margin-left值\nvar imgLoction=parseInt(window.getComputedStyle(ul,null).left);//每次的left值都要改变\nul.style.left=imgLoction+Math.floor((-liwidth*(ulloc*5)-imgLoction)/5)+\"px\";//当为图片宽度的整数时清除计时器\n// console.log(list.length/5,list.length/5-1,ulloc)\nif(imgLoction===-(ulloc*5*liwidth)){clearInterval(rightmove);setClick(false);//获取插入假图片后当前的图片总数\n// console.log(ulloc,list.length/5)\n//此时的n是真实图片个数4,试图中对应的是插入后图片节点的最后一张图位置\nif(ulloc===3){// console.log(\"该回到第一份\")\nconsole.log(liwidth);ul.style.left=-(parseInt(liwidth)*5)+\"px\";setul(1);setClick(false);}}},10);}next.onclick=function(){if(!userClick){setul(++ulloc);imgmoveR();}};//右击移动图片计时器\nfunction imgmoveL(){setClick(true);console.log(ulloc);var leftmove=setInterval(function(){//获取当前图片的margin-left值\nvar imgLoction=parseInt(window.getComputedStyle(ul,null).left);//每次的left值都要改变\nul.style.left=imgLoction+Math.ceil((-liwidth*(ulloc*5)-imgLoction)/5)+\"px\";//当为图片宽度的整数时清除计时器\n// console.log(list.length/5,list.length/5-1,ulloc)\nconsole.log(imgLoction,-(ulloc*5*liwidth),ulloc);if(imgLoction===-(ulloc*5*liwidth)){console.log(123);clearInterval(leftmove);setClick(false);//获取插入假图片后当前的图片总数\n// console.log(ulloc,list.length/5)\n//此时的n是真实图片个数4,试图中对应的是插入后图片节点的最后一张图位置\nif(ulloc===0){console.log(\"该回到第一份\");console.log(liwidth);ul.style.left=-(parseInt(liwidth)*10)+\"px\";setul(2);setClick(false);}}},10);}prev.onclick=function(){if(!userClick){setul(--ulloc);imgmoveL();}};//初始化是克隆节点\nfunction onceFn(fn){return function(){if(time){// console.log(\"函数执行\"+time)\nsetTime(false);fn();}};}var cloneNext=function cloneNext(){return data.albums.slice(0,5).map(function(item,index){var clonelist=document.createElement(\"li\");clonelist.setAttribute(\"class\",\"newDicList cloneLi\");clonelist.innerHTML+=\"<div key=\".concat(index,\">\\n                            <div class=\\\"newDic-muc\\\">\\n                                <img src=\").concat(item.picUrl,\" alt=\\\"\\\"/>\\n                                <a href=\\\"\\\" class=\\\"newDic-cover\\\"></a>\\n                                <a href=\\\"\\\" class=\\\"newDic-play\\\"></a>\\n                            </div>\\n                            <p class=\\\"dictxt\\\"><a href=\\\"\\\" class=\\\"newDic-name\\\">\").concat(item.name,\"</a></p>\\n                            <p class=\\\"dictxt\\\"><a href=\\\"\\\" class=\\\"newDic-txt\\\">\").concat(item.artist.name,\"</a></p>\\n                        </div>\\n                    \");ul.appendChild(clonelist);});};var clonePrev=function clonePrev(){return data.albums.slice(5,10).map(function(item,index){var clonelist=document.createElement(\"li\");clonelist.setAttribute(\"class\",\"newDicList cloneLi\");clonelist.innerHTML+=\"<div key=\".concat(index,\">\\n                            <div class=\\\"newDic-muc\\\">\\n                                <img src=\").concat(item.picUrl,\" alt=\\\"\\\"/>\\n                                <a href=\\\"\\\" class=\\\"newDic-cover\\\"></a>\\n                                <a href=\\\"\\\" class=\\\"newDic-play\\\"></a>\\n                            </div>\\n                            <p class=\\\"dictxt\\\"><a href=\\\"\\\" class=\\\"newDic-name\\\">\").concat(item.name,\"</a></p>\\n                            <p class=\\\"dictxt\\\"><a href=\\\"\\\" class=\\\"newDic-txt\\\">\").concat(item.artist.name,\"</a></p>\\n                        </div>\\n                    \");ul.insertBefore(clonelist,list[0]);// console.log(clonelist)\n});};// 删除克隆节点\nvar remove=function remove(direction){var newlist=ul.querySelectorAll(\".newDicList\");console.log(\"kankan\");if(direction===\"prev\"){Array.apply(void 0,_toConsumableArray(newlist)).slice(0,5).map(function(item){ul.removeChild(item);});}else if(direction===\"next\"){var _newlist=ul.querySelectorAll(\".newDicList\");console.log(Array.apply(void 0,_toConsumableArray(_newlist)).slice(-5,0));Array.apply(void 0,_toConsumableArray(_newlist)).slice(-5,0).map(function(item){ul.removeChild(item);});}};onceFn(cloneNext)();onceFn(clonePrev)();}});return/*#__PURE__*/React.createElement(\"div\",{className:\"dic-muc\"},/*#__PURE__*/React.createElement(\"div\",{className:\"newDic-prev\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"newDic\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"newDic-Name\",style:{left:-(parseInt(docuwidth)*5)}},data.length===undefined?data.albums.slice(0,10).map(function(item,index){return/*#__PURE__*/React.createElement(\"li\",{className:\"newDicList\",key:item.artist.id},/*#__PURE__*/React.createElement(\"div\",{className:\"newDic-muc\"},/*#__PURE__*/React.createElement(\"img\",{src:item.picUrl,alt:\"\"}),/*#__PURE__*/React.createElement(\"a\",{href:\"\",className:\"newDic-cover\"}),/*#__PURE__*/React.createElement(\"a\",{href:\"\",className:\"newDic-play\"})),/*#__PURE__*/React.createElement(\"p\",{className:\"dictxt\"},/*#__PURE__*/React.createElement(\"a\",{href:\"\",className:\"newDic-name\"},item.name)),/*#__PURE__*/React.createElement(\"p\",{className:\"dictxt\"},/*#__PURE__*/React.createElement(\"a\",{href:\"\",className:\"newDic-txt\"},item.artist.name)));}):\"\")),/*#__PURE__*/React.createElement(\"div\",{className:\"newDic-next\"}));}export default NewDics;","map":{"version":3,"sources":["E:/github-project/cloudMusic-mobile/src/component/newdic.js"],"names":["React","useEffect","useState","createElement","useSelector","useNewDics","useLocation","NewDics","loca","pathname","state","newdicsReducer","getData","data","ulloc","setul","time","setTime","userClick","setClick","contro","setcontro","docuwidth","setwidth","length","undefined","ul","document","querySelector","list","querySelectorAll","liwidth","clientWidth","next","prev","imgmoveR","rightmove","setInterval","imgLoction","parseInt","window","getComputedStyle","left","style","Math","floor","clearInterval","console","log","onclick","imgmoveL","leftmove","ceil","onceFn","fn","cloneNext","albums","slice","map","item","index","clonelist","setAttribute","innerHTML","picUrl","name","artist","appendChild","clonePrev","insertBefore","remove","direction","newlist","Array","removeChild","id"],"mappings":"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","sourcesContent":["import  React, { useEffect,useState, createElement} from \"react\"\r\nimport {useSelector} from \"react-redux\"\r\nimport {useNewDics} from \"../store/action/index\"\r\nimport {useLocation} from \"react-router-dom\"\r\nfunction NewDics(){\r\n    let loca = useLocation().pathname\r\n    //获取管理状态仓库\r\n    let state = useSelector((state)=>{\r\n        return state.newdicsReducer;\r\n    })\r\n    //获取仓库管理函数操作状态函数，获取新碟上架数据\r\n    let getData = useNewDics()\r\n    useEffect(()=>{\r\n        getData(\"/album/newest\")\r\n    },[loca])\r\n    let data = state.data\r\n    let [ulloc,setul] = useState(1)\r\n    let [time,setTime] = useState(true)\r\n    let [userClick,setClick] = useState(false)\r\n    let [contro,setcontro] = useState(false)\r\n    let [docuwidth,setwidth] = useState(0)\r\n    useEffect(()=>{\r\n        if(data.length==undefined){\r\n                // 获取元素节点和信息1克隆2克隆  再点3删除回到1\r\n            let ul = document.querySelector(\".newDic-Name\")\r\n            let list = ul.querySelectorAll(\".newDicList\")\r\n            let liwidth = list[0].clientWidth;\r\n            let next = document.querySelector(\".newDic-next\")\r\n            let prev = document.querySelector(\".newDic-prev\")\r\n            setwidth(liwidth)\r\n            //右击移动图片计时器\r\n            function imgmoveR(){\r\n                setClick(true);\r\n                // console.log(ulloc)\r\n                let rightmove = setInterval(function(){\r\n                    //获取当前图片的margin-left值\r\n                    var imgLoction = parseInt(window.getComputedStyle(ul,null).left);\r\n                    //每次的left值都要改变\r\n                    ul.style.left = imgLoction + Math.floor((-liwidth*(ulloc*5)-imgLoction)/5) + \"px\";\r\n                    //当为图片宽度的整数时清除计时器\r\n                    // console.log(list.length/5,list.length/5-1,ulloc)\r\n                    if(imgLoction===-(ulloc*5*liwidth)){\r\n                        clearInterval(rightmove);\r\n                        setClick(false);\r\n                        //获取插入假图片后当前的图片总数\r\n                        // console.log(ulloc,list.length/5)\r\n                        //此时的n是真实图片个数4,试图中对应的是插入后图片节点的最后一张图位置\r\n                        if(ulloc===3){\r\n                            // console.log(\"该回到第一份\")\r\n                            console.log(liwidth)\r\n                            ul.style.left = -(parseInt(liwidth)*5) +\"px\";\r\n                            setul(1);\r\n                            setClick(false);\r\n                        }\r\n                    }\r\n                },10)\r\n            }\r\n            \r\n            next.onclick=function(){\r\n                if(!userClick){\r\n                    setul(++ulloc)\r\n                    imgmoveR()\r\n                }\r\n                \r\n            }\r\n\r\n            //右击移动图片计时器\r\n            function imgmoveL(){\r\n                setClick(true);\r\n                console.log(ulloc)\r\n                let leftmove = setInterval(function(){\r\n                    //获取当前图片的margin-left值\r\n                    var imgLoction = parseInt(window.getComputedStyle(ul,null).left);\r\n                    //每次的left值都要改变\r\n                    ul.style.left = imgLoction + Math.ceil((-liwidth*(ulloc*5)-imgLoction)/5) + \"px\";\r\n                    //当为图片宽度的整数时清除计时器\r\n                    // console.log(list.length/5,list.length/5-1,ulloc)\r\n                    console.log(imgLoction,-(ulloc*5*liwidth),ulloc)\r\n                    if(imgLoction===-(ulloc*5*liwidth)){\r\n                        console.log(123)\r\n                        clearInterval(leftmove);\r\n                        setClick(false);\r\n                        //获取插入假图片后当前的图片总数\r\n                        // console.log(ulloc,list.length/5)\r\n                        //此时的n是真实图片个数4,试图中对应的是插入后图片节点的最后一张图位置\r\n                        if(ulloc===0){\r\n                            console.log(\"该回到第一份\")\r\n                            console.log(liwidth)\r\n                            ul.style.left = -(parseInt(liwidth)*10) +\"px\";\r\n                            setul(2);\r\n                            setClick(false);\r\n                        }\r\n                    }\r\n                },10)\r\n            }\r\n\r\n            prev.onclick = function(){\r\n                if(!userClick){\r\n                    setul(--ulloc)\r\n                    imgmoveL()\r\n                }\r\n            }\r\n            \r\n            //初始化是克隆节点\r\n            function onceFn(fn){\r\n                return function(){\r\n                    if(time){\r\n                        // console.log(\"函数执行\"+time)\r\n                        setTime(false);\r\n                        fn()\r\n                    }\r\n                }\r\n            }\r\n\r\n            let cloneNext = function(){\r\n                return data.albums.slice(0,5).map((item,index)=>{\r\n                    let clonelist = document.createElement(\"li\")\r\n                    clonelist.setAttribute(\"class\",\"newDicList cloneLi\")\r\n                    clonelist.innerHTML += `<div key=${index}>\r\n                            <div class=\"newDic-muc\">\r\n                                <img src=${item.picUrl} alt=\"\"/>\r\n                                <a href=\"\" class=\"newDic-cover\"></a>\r\n                                <a href=\"\" class=\"newDic-play\"></a>\r\n                            </div>\r\n                            <p class=\"dictxt\"><a href=\"\" class=\"newDic-name\">${item.name}</a></p>\r\n                            <p class=\"dictxt\"><a href=\"\" class=\"newDic-txt\">${item.artist.name}</a></p>\r\n                        </div>\r\n                    `\r\n                    ul.appendChild(clonelist)\r\n                })\r\n            }\r\n\r\n            let clonePrev = function(){\r\n                return data.albums.slice(5,10).map((item,index)=>{\r\n                    let clonelist = document.createElement(\"li\")\r\n                    clonelist.setAttribute(\"class\",\"newDicList cloneLi\")\r\n                    clonelist.innerHTML += `<div key=${index}>\r\n                            <div class=\"newDic-muc\">\r\n                                <img src=${item.picUrl} alt=\"\"/>\r\n                                <a href=\"\" class=\"newDic-cover\"></a>\r\n                                <a href=\"\" class=\"newDic-play\"></a>\r\n                            </div>\r\n                            <p class=\"dictxt\"><a href=\"\" class=\"newDic-name\">${item.name}</a></p>\r\n                            <p class=\"dictxt\"><a href=\"\" class=\"newDic-txt\">${item.artist.name}</a></p>\r\n                        </div>\r\n                    `\r\n                    ul.insertBefore(clonelist,list[0]) \r\n                    \r\n                    // console.log(clonelist)\r\n                })\r\n            }\r\n            // 删除克隆节点\r\n            let remove = function(direction){\r\n                let newlist = ul.querySelectorAll(\".newDicList\")\r\n                console.log(\"kankan\")\r\n                if(direction===\"prev\"){\r\n                    Array(...newlist).slice(0,5).map((item)=>{\r\n                        ul.removeChild(item)\r\n                    })\r\n                }else if(direction===\"next\"){\r\n                    let newlist = ul.querySelectorAll(\".newDicList\")\r\n                    console.log(Array(...newlist).slice(-5,0))\r\n                    Array(...newlist).slice(-5,0).map((item)=>{\r\n                        ul.removeChild(item)\r\n                    })\r\n                }\r\n            }\r\n            onceFn(cloneNext)()\r\n            onceFn(clonePrev)()\r\n    }       \r\n            \r\n           \r\n    })\r\n    return(\r\n        <div className=\"dic-muc\">\r\n            <div className=\"newDic-prev\"></div>\r\n            <div className=\"newDic\">\r\n                <ul className=\"newDic-Name\" style={{left:-(parseInt(docuwidth)*5)}}>\r\n                   {data.length===undefined?(data.albums.slice(0,10).map((item,index)=>{\r\n                       return (\r\n                        <li className=\"newDicList\" key={item.artist.id}>\r\n                            <div className=\"newDic-muc\">\r\n                                <img src={item.picUrl} alt=\"\"/>\r\n                                <a href=\"\" className=\"newDic-cover\"></a>\r\n                                <a href=\"\" className=\"newDic-play\"></a>\r\n                            </div>\r\n                       <p className=\"dictxt\"><a href=\"\" className=\"newDic-name\">{item.name}</a></p>\r\n                       <p className=\"dictxt\"><a href=\"\" className=\"newDic-txt\">{item.artist.name}</a></p>\r\n                        </li>\r\n                       )\r\n                   })):\"\"}\r\n                </ul>\r\n            </div>\r\n            <div className=\"newDic-next\"></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NewDics"]},"metadata":{},"sourceType":"module"}