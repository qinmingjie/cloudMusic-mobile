{"ast":null,"code":"import _slicedToArray from\"E:\\\\github-project\\\\cloudMusic-mobile\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";export default function Play(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];useEffect(function(){var audio=document.querySelector(\"audio\");var playwrap=document.querySelector(\".playWrap\");var cover=playwrap.querySelector(\".cover\");var playicon=playwrap.querySelector(\".play\");var playend=playwrap.querySelector(\".end\");// console.log(playicon)\n// console.log(playwrap)\nplaywrap.onclick=function(){var cssfire=document.styleSheets;var auSrc=audio.getAttribute(\"src\");console.log(auSrc);console.log(cssfire);var isplay=window.getComputedStyle(playicon,\"style\").display;var isend=window.getComputedStyle(playend,\"style\").display;if(isplay===\"block\"&&isend===\"none\"){//暂停播放和动画\nplayicon.style.display=\"none\";playend.style.display=\"block\";var deg=window.getComputedStyle(cover,\"style\").transform;cover.style.animationPlayState=\"paused\";if(auSrc!==\"\"){audio.pause();}}else{playicon.style.display=\"block\";playend.style.display=\"none\";cover.style.animationPlayState=\"running\";if(auSrc!==\"\"){audio.play();}}};});return/*#__PURE__*/React.createElement(\"div\",{id:\"playwrap\",className:\"playWrap\"},/*#__PURE__*/React.createElement(\"audio\",{autoPlay:\"autoplay\",src:\"\",loop:\"loop\"}),/*#__PURE__*/React.createElement(\"div\",{id:\"playimgcover\"},/*#__PURE__*/React.createElement(\"div\",{id:\"playcover\",className:\"cover\"})),/*#__PURE__*/React.createElement(\"span\",{id:\"playplay\",className:\"play\",style:{display:\"none\"}}),/*#__PURE__*/React.createElement(\"span\",{id:\"playend\",className:\"end\",style:{display:\"block\"}}));}","map":{"version":3,"sources":["E:/github-project/cloudMusic-mobile/src/component/play.js"],"names":["React","useState","useEffect","Play","show","setShow","audio","document","querySelector","playwrap","cover","playicon","playend","onclick","cssfire","styleSheets","auSrc","getAttribute","console","log","isplay","window","getComputedStyle","display","isend","style","deg","transform","animationPlayState","pause","play"],"mappings":"iKAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,cAAe,SAASC,CAAAA,IAAT,EAAe,eACLF,QAAQ,CAAC,KAAD,CADH,wCACrBG,IADqB,eAChBC,OADgB,eAE1BH,SAAS,CAAC,UAAI,CACV,GAAII,CAAAA,KAAK,CAAGC,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAZ,CACA,GAAIC,CAAAA,QAAQ,CAAGF,QAAQ,CAACC,aAAT,CAAuB,WAAvB,CAAf,CACA,GAAIE,CAAAA,KAAK,CAAGD,QAAQ,CAACD,aAAT,CAAuB,QAAvB,CAAZ,CACA,GAAIG,CAAAA,QAAQ,CAAGF,QAAQ,CAACD,aAAT,CAAuB,OAAvB,CAAf,CACA,GAAII,CAAAA,OAAO,CAAGH,QAAQ,CAACD,aAAT,CAAuB,MAAvB,CAAd,CACA;AACA;AACAC,QAAQ,CAACI,OAAT,CAAiB,UAAU,CACvB,GAAIC,CAAAA,OAAO,CAAGP,QAAQ,CAACQ,WAAvB,CACA,GAAIC,CAAAA,KAAK,CAAGV,KAAK,CAACW,YAAN,CAAmB,KAAnB,CAAZ,CACAC,OAAO,CAACC,GAAR,CAAYH,KAAZ,EACAE,OAAO,CAACC,GAAR,CAAYL,OAAZ,EACA,GAAIM,CAAAA,MAAM,CAAGC,MAAM,CAACC,gBAAP,CAAwBX,QAAxB,CAAiC,OAAjC,EAA0CY,OAAvD,CACA,GAAIC,CAAAA,KAAK,CAAGH,MAAM,CAACC,gBAAP,CAAwBV,OAAxB,CAAgC,OAAhC,EAAyCW,OAArD,CACA,GAAGH,MAAM,GAAG,OAAT,EAAkBI,KAAK,GAAG,MAA7B,CAAoC,CAAC;AACjCb,QAAQ,CAACc,KAAT,CAAeF,OAAf,CAAuB,MAAvB,CACAX,OAAO,CAACa,KAAR,CAAcF,OAAd,CAAsB,OAAtB,CACA,GAAIG,CAAAA,GAAG,CAAGL,MAAM,CAACC,gBAAP,CAAwBZ,KAAxB,CAA8B,OAA9B,EAAuCiB,SAAjD,CACAjB,KAAK,CAACe,KAAN,CAAYG,kBAAZ,CAAiC,QAAjC,CACA,GAAGZ,KAAK,GAAG,EAAX,CAAc,CACVV,KAAK,CAACuB,KAAN,GACH,CACJ,CARD,IAQK,CACDlB,QAAQ,CAACc,KAAT,CAAeF,OAAf,CAAuB,OAAvB,CACAX,OAAO,CAACa,KAAR,CAAcF,OAAd,CAAsB,MAAtB,CACAb,KAAK,CAACe,KAAN,CAAYG,kBAAZ,CAAiC,SAAjC,CACA,GAAGZ,KAAK,GAAG,EAAX,CAAc,CACVV,KAAK,CAACwB,IAAN,GACH,CACJ,CACJ,CAvBD,CAwBH,CAhCQ,CAAT,CAiCA,mBACI,2BAAK,EAAE,CAAC,UAAR,CACI,SAAS,CAAC,UADd,eAEI,6BAAO,QAAQ,CAAC,UAAhB,CAA2B,GAAG,CAAC,EAA/B,CAAkC,IAAI,CAAC,MAAvC,EAFJ,cAKI,2BAAK,EAAE,CAAC,cAAR,eACI,2BAAK,EAAE,CAAC,WAAR,CAAoB,SAAS,CAAC,OAA9B,EADJ,CALJ,cAQI,4BAAM,EAAE,CAAC,UAAT,CAAoB,SAAS,CAAC,MAA9B,CAAqC,KAAK,CAAE,CAACP,OAAO,CAAC,MAAT,CAA5C,EARJ,cASI,4BAAM,EAAE,CAAC,SAAT,CAAmB,SAAS,CAAC,KAA7B,CAAmC,KAAK,CAAE,CAACA,OAAO,CAAC,OAAT,CAA1C,EATJ,CADJ,CAaH","sourcesContent":["import React, { useState, useEffect } from \"react\"\r\nexport default function Play(){\r\n    let [show,setShow] = useState(false)\r\n    useEffect(()=>{\r\n        let audio = document.querySelector(\"audio\")\r\n        let playwrap = document.querySelector(\".playWrap\")\r\n        let cover = playwrap.querySelector(\".cover\")\r\n        let playicon = playwrap.querySelector(\".play\")\r\n        let playend = playwrap.querySelector(\".end\")\r\n        // console.log(playicon)\r\n        // console.log(playwrap)\r\n        playwrap.onclick=function(){\r\n            let cssfire = document.styleSheets\r\n            let auSrc = audio.getAttribute(\"src\")\r\n            console.log(auSrc)\r\n            console.log(cssfire)\r\n            let isplay = window.getComputedStyle(playicon,\"style\").display\r\n            let isend = window.getComputedStyle(playend,\"style\").display\r\n            if(isplay===\"block\"&&isend===\"none\"){//暂停播放和动画\r\n                playicon.style.display=\"none\"\r\n                playend.style.display=\"block\"\r\n                let deg = window.getComputedStyle(cover,\"style\").transform\r\n                cover.style.animationPlayState = \"paused\"\r\n                if(auSrc!==\"\"){\r\n                    audio.pause()\r\n                }\r\n            }else{\r\n                playicon.style.display=\"block\"\r\n                playend.style.display=\"none\"\r\n                cover.style.animationPlayState = \"running\"\r\n                if(auSrc!==\"\"){\r\n                    audio.play()\r\n                }\r\n            }\r\n        }\r\n    })\r\n    return(\r\n        <div id=\"playwrap\" \r\n            className=\"playWrap\">\r\n            <audio autoPlay=\"autoplay\" src=\"\" loop=\"loop\">\r\n\t\t\t\t\r\n            </audio>\r\n            <div id=\"playimgcover\">\r\n                <div id=\"playcover\" className=\"cover\"></div>\r\n            </div>\r\n            <span id=\"playplay\" className=\"play\" style={{display:\"none\"}}></span>\r\n            <span id=\"playend\" className=\"end\" style={{display:\"block\"}}></span>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}