{"ast":null,"code":"var _jsxFileName = \"E:\\\\github-project\\\\cloudMusic-mobile\\\\src\\\\mobileconponemt\\\\mplay.js\";\nimport React, { useEffect } from \"react\";\nimport Play from \"../component/play\";\nimport qs from \"qs\";\nimport { useLocation } from \"react-router-dom\";\nimport { useMusicurl, getUrl } from \"../store/action/index\";\nimport { useSelector } from \"react-redux\";\nimport def from \"../static/img/default.jpg\";\nexport default function Mplay(props) {\n  console.log(props);\n  let location = useLocation().search;\n  let {\n    id\n  } = qs.parse(location.slice(1));\n  let state = useSelector(state => {\n    return state.musicReducer;\n  });\n  let imgurl = useSelector(state => {\n    return state.ImgUlr.url;\n  });\n  console.log(imgurl);\n  let getData = useMusicurl();\n  useEffect(() => {\n    // 获取音乐和图片\n    getData(`/song/url?id=${id}`);\n  }, [id]);\n  let {\n    data\n  } = state;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"m-playWrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"m-p-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"m-p-logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"m-p-arm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 16\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"m-p-disc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"m-ani-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"m-ani-arl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: imgurl.length === 0 ? def : imgurl[0],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 25\n    }\n  })))));\n}","map":{"version":3,"sources":["E:/github-project/cloudMusic-mobile/src/mobileconponemt/mplay.js"],"names":["React","useEffect","Play","qs","useLocation","useMusicurl","getUrl","useSelector","def","Mplay","props","console","log","location","search","id","parse","slice","state","musicReducer","imgurl","ImgUlr","url","getData","data","length"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,EAAP,MAAe,IAAf;AACA,SAAQC,WAAR,QAA0B,kBAA1B;AACA,SAAQC,WAAR,EAAoBC,MAApB,QAAiC,uBAAjC;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,GAAP,MAAgB,2BAAhB;AACA,eAAe,SAASC,KAAT,CAAeC,KAAf,EAAqB;AAChCC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,MAAIG,QAAQ,GAAGT,WAAW,GAAGU,MAA7B;AACA,MAAI;AAACC,IAAAA;AAAD,MAAOZ,EAAE,CAACa,KAAH,CAASH,QAAQ,CAACI,KAAT,CAAe,CAAf,CAAT,CAAX;AACA,MAAIC,KAAK,GAAGX,WAAW,CAAEW,KAAD,IAAS;AAC7B,WAAOA,KAAK,CAACC,YAAb;AACH,GAFsB,CAAvB;AAGA,MAAIC,MAAM,GAAGb,WAAW,CAAEW,KAAD,IAAS;AAC9B,WAAOA,KAAK,CAACG,MAAN,CAAaC,GAApB;AACH,GAFuB,CAAxB;AAGAX,EAAAA,OAAO,CAACC,GAAR,CAAYQ,MAAZ;AACA,MAAIG,OAAO,GAAGlB,WAAW,EAAzB;AACAJ,EAAAA,SAAS,CAAC,MAAI;AACV;AACAsB,IAAAA,OAAO,CAAE,gBAAeR,EAAG,EAApB,CAAP;AACH,GAHQ,EAGP,CAACA,EAAD,CAHO,CAAT;AAIA,MAAI;AAACS,IAAAA;AAAD,MAASN,KAAb;AACA,sBACG;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACK;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACG;AAAM,IAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADH,eAEG;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFH,CADL,eAKK;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,GAAG,EAAGE,MAAM,CAACK,MAAP,KAAgB,CAAjB,GAAoBjB,GAApB,GAAwBY,MAAM,CAAC,CAAD,CAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,CADJ,CALL,CADH;AAeH","sourcesContent":["import React, { useEffect } from \"react\"\r\nimport Play from \"../component/play\"\r\nimport qs from \"qs\"\r\nimport {useLocation} from \"react-router-dom\"\r\nimport {useMusicurl,getUrl} from \"../store/action/index\"\r\nimport { useSelector } from \"react-redux\"\r\nimport def from \"../static/img/default.jpg\"\r\nexport default function Mplay(props){\r\n    console.log(props)\r\n    let location = useLocation().search\r\n    let {id} = qs.parse(location.slice(1))\r\n    let state = useSelector((state)=>{\r\n        return state.musicReducer\r\n    })\r\n    let imgurl = useSelector((state)=>{\r\n        return state.ImgUlr.url\r\n    })\r\n    console.log(imgurl)\r\n    let getData = useMusicurl()\r\n    useEffect(()=>{\r\n        // 获取音乐和图片\r\n        getData(`/song/url?id=${id}`);\r\n    },[id])\r\n    let {data} = state;\r\n    return (\r\n       <div className=\"m-playWrap\">\r\n            <div className=\"m-p-header\">\r\n               <span className=\"m-p-logo\"></span>\r\n               <div className=\"m-p-arm\"></div>\r\n            </div>\r\n            <div className=\"m-p-disc\">\r\n                <div className=\"m-ani-wrap\">\r\n                    <div className=\"m-ani-arl\">\r\n                        <img src={(imgurl.length===0)?def:imgurl[0]}/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n       </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}