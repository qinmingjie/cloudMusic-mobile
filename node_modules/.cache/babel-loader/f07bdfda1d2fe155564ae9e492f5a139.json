{"ast":null,"code":"function _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _await(value, then, direct) {\n  if (direct) {\n    return then ? then(value) : value;\n  }\n\n  if (!value || !value.then) {\n    value = Promise.resolve(value);\n  }\n\n  return then ? value.then(then) : value;\n}\n\nfunction _async(f) {\n  return function () {\n    for (var args = [], i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    try {\n      return Promise.resolve(f.apply(this, args));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nimport { useCallback, useState, useRef, useEffect } from 'react';\n\nvar Timer = function Timer(cb, delay) {\n  var _this = this;\n\n  _classCallCheck(this, Timer);\n\n  this.remaining = 0;\n  this.delay = 0;\n  this.cb = null;\n  this.start = 0;\n  this.timerId = 0;\n\n  this.stop = function () {\n    clearTimeout(_this.timerId);\n    _this.timerId = 0;\n    _this.remaining = _this.delay;\n  };\n\n  this.pause = function () {\n    clearTimeout(_this.timerId);\n    _this.remaining -= Date.now() - _this.start;\n  };\n\n  this.resume = function () {\n    _this.start = Date.now();\n    clearTimeout(_this.timerId);\n    _this.timerId = setTimeout(_async(function () {\n      if (_this.cb) {\n        _this.cb();\n      }\n\n      return _await();\n    }), _this.remaining);\n  };\n\n  this.remaining = delay;\n  this.delay = delay;\n  this.start = Date.now();\n  this.cb = cb;\n};\n\nvar noop = function noop() {};\n\nvar promiseReturn = function promiseReturn() {\n  return _await(null);\n};\n\nfunction useAsync(fn, deps, options) {\n  var _deps = Array.isArray(deps) ? deps : [];\n\n  var _options = _typeof(deps) === 'object' && !Array.isArray(deps) ? deps : options || {};\n\n  var params = useRef([]);\n  var _options$autoCancel = _options.autoCancel,\n      autoCancel = _options$autoCancel === void 0 ? true : _options$autoCancel;\n  var timer = useRef(undefined);\n  var omitNextResume = useRef(false);\n  var count = useRef(0);\n  var fnRef = useRef(fn);\n  fnRef.current = fn;\n  var onSuccessRef = useRef(_options.onSuccess);\n  onSuccessRef.current = _options.onSuccess;\n  var onErrorRef = useRef(_options.onError);\n  onErrorRef.current = _options.onError; // initial loading state is related to manual option\n\n  var _useState = useState({\n    data: undefined,\n    error: undefined,\n    loading: !_options.manual\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      set = _useState2[1];\n\n  var run = useCallback(function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    } // 确保不会返回被取消的结果\n\n\n    var runCount = count.current;\n    /* 当前参数保存一下 */\n\n    params.current = args;\n    set(function (s) {\n      return _objectSpread({}, s, {\n        loading: true\n      });\n    });\n    return fnRef.current.apply(fnRef, args).then(function (data) {\n      if (runCount === count.current) {\n        set(function (s) {\n          return _objectSpread({}, s, {\n            data: data,\n            loading: false\n          });\n        });\n\n        if (onSuccessRef.current) {\n          onSuccessRef.current(data, args || []);\n        }\n      }\n\n      return data;\n    }).catch(function (error) {\n      if (runCount === count.current) {\n        set(function (s) {\n          return _objectSpread({}, s, {\n            error: error,\n            loading: false\n          });\n        });\n\n        if (onErrorRef.current) {\n          onErrorRef.current(error, args || []);\n        }\n      }\n\n      throw error;\n    });\n  }, []);\n  /* 软取消，由于竞态，需要取消上一次的请求 */\n\n  var softCancel = useCallback(function () {\n    if (autoCancel) {\n      count.current += 1;\n      set(function (s) {\n        return _objectSpread({}, s, {\n          loading: false\n        });\n      });\n    }\n  }, [autoCancel]);\n  /* 强制取消，组件卸载，或者用户手工取消 */\n\n  var forceCancel = useCallback(function () {\n    count.current += 1;\n    set(function (s) {\n      return _objectSpread({}, s, {\n        loading: false\n      });\n    });\n  }, []);\n  var stop = useCallback(function () {\n    if (timer.current) {\n      timer.current.stop();\n      omitNextResume.current = true;\n    }\n\n    forceCancel();\n  }, [forceCancel]);\n  var resume = useCallback(function () {\n    if (timer.current) {\n      omitNextResume.current = false;\n      timer.current.resume();\n    }\n  }, []);\n  var pause = useCallback(function () {\n    if (timer.current) {\n      timer.current.pause();\n      omitNextResume.current = true;\n    }\n\n    forceCancel();\n  }, [forceCancel]);\n  var start = useCallback(_async(function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    } // 有定时器的延时逻辑\n\n\n    if (_options.pollingInterval) {\n      if (timer.current) {\n        stop();\n      }\n\n      omitNextResume.current = false;\n      timer.current = new Timer(function () {\n        return start.apply(void 0, args);\n      }, _options.pollingInterval);\n      var ret = run.apply(void 0, args);\n      ret.finally(function () {\n        if (timer.current && !omitNextResume.current) {\n          timer.current.resume();\n        }\n      });\n      return ret;\n    } // 如果上一次异步操作还在 loading，则会尝试取消掉上一次的异步操作。\n\n\n    softCancel();\n    return run.apply(void 0, args);\n  }), [run, softCancel, stop, _options.pollingInterval]);\n  useEffect(function () {\n    if (!_options.manual) {\n      // deps 变化时，重新执行\n      start();\n    }\n    /* 如果 desp 变化，强制取消 */\n\n\n    return function () {\n      if (timer.current) {\n        timer.current.stop();\n      }\n\n      forceCancel();\n    };\n  }, [].concat(_toConsumableArray(_deps), [forceCancel, start]));\n  return {\n    loading: state.loading,\n    params: params.current,\n    error: state.error,\n    data: state.data,\n    cancel: forceCancel,\n    run: start,\n    timer: {\n      stop: stop,\n      resume: resume,\n      pause: pause\n    }\n  };\n}\n\nexport default useAsync;","map":{"version":3,"sources":["E:/github-project/cloudMusic-mobile/node_modules/@umijs/hooks/es/useAsync/index.js"],"names":["_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","TypeError","iter","Symbol","iterator","Object","prototype","toString","call","Array","from","isArray","i","arr2","length","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","arguments","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","_arr","_n","_d","_e","undefined","_i","_s","next","done","err","_typeof","constructor","_await","then","direct","Promise","resolve","_async","f","args","e","reject","_classCallCheck","instance","Constructor","useCallback","useState","useRef","useEffect","Timer","cb","delay","_this","remaining","start","timerId","stop","clearTimeout","pause","Date","now","resume","setTimeout","noop","promiseReturn","useAsync","fn","deps","options","_deps","_options","params","_options$autoCancel","autoCancel","timer","omitNextResume","count","fnRef","current","onSuccessRef","onSuccess","onErrorRef","onError","_useState","data","error","loading","manual","_useState2","state","set","run","_len","_key","runCount","s","catch","softCancel","forceCancel","_len2","_key2","pollingInterval","ret","finally","concat","cancel"],"mappings":"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","sourcesContent":["function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _await(value, then, direct) {\n  if (direct) {\n    return then ? then(value) : value;\n  }\n\n  if (!value || !value.then) {\n    value = Promise.resolve(value);\n  }\n\n  return then ? value.then(then) : value;\n}\n\nfunction _async(f) {\n  return function () {\n    for (var args = [], i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    try {\n      return Promise.resolve(f.apply(this, args));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport { useCallback, useState, useRef, useEffect } from 'react';\n\nvar Timer = function Timer(cb, delay) {\n  var _this = this;\n\n  _classCallCheck(this, Timer);\n\n  this.remaining = 0;\n  this.delay = 0;\n  this.cb = null;\n  this.start = 0;\n  this.timerId = 0;\n\n  this.stop = function () {\n    clearTimeout(_this.timerId);\n    _this.timerId = 0;\n    _this.remaining = _this.delay;\n  };\n\n  this.pause = function () {\n    clearTimeout(_this.timerId);\n    _this.remaining -= Date.now() - _this.start;\n  };\n\n  this.resume = function () {\n    _this.start = Date.now();\n    clearTimeout(_this.timerId);\n    _this.timerId = setTimeout(_async(function () {\n      if (_this.cb) {\n        _this.cb();\n      }\n\n      return _await();\n    }), _this.remaining);\n  };\n\n  this.remaining = delay;\n  this.delay = delay;\n  this.start = Date.now();\n  this.cb = cb;\n};\n\nvar noop = function noop() {};\n\nvar promiseReturn = function promiseReturn() {\n  return _await(null);\n};\n\nfunction useAsync(fn, deps, options) {\n  var _deps = Array.isArray(deps) ? deps : [];\n\n  var _options = _typeof(deps) === 'object' && !Array.isArray(deps) ? deps : options || {};\n\n  var params = useRef([]);\n  var _options$autoCancel = _options.autoCancel,\n      autoCancel = _options$autoCancel === void 0 ? true : _options$autoCancel;\n  var timer = useRef(undefined);\n  var omitNextResume = useRef(false);\n  var count = useRef(0);\n  var fnRef = useRef(fn);\n  fnRef.current = fn;\n  var onSuccessRef = useRef(_options.onSuccess);\n  onSuccessRef.current = _options.onSuccess;\n  var onErrorRef = useRef(_options.onError);\n  onErrorRef.current = _options.onError; // initial loading state is related to manual option\n\n  var _useState = useState({\n    data: undefined,\n    error: undefined,\n    loading: !_options.manual\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      set = _useState2[1];\n\n  var run = useCallback(function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    // 确保不会返回被取消的结果\n    var runCount = count.current;\n    /* 当前参数保存一下 */\n\n    params.current = args;\n    set(function (s) {\n      return _objectSpread({}, s, {\n        loading: true\n      });\n    });\n    return fnRef.current.apply(fnRef, args).then(function (data) {\n      if (runCount === count.current) {\n        set(function (s) {\n          return _objectSpread({}, s, {\n            data: data,\n            loading: false\n          });\n        });\n\n        if (onSuccessRef.current) {\n          onSuccessRef.current(data, args || []);\n        }\n      }\n\n      return data;\n    }).catch(function (error) {\n      if (runCount === count.current) {\n        set(function (s) {\n          return _objectSpread({}, s, {\n            error: error,\n            loading: false\n          });\n        });\n\n        if (onErrorRef.current) {\n          onErrorRef.current(error, args || []);\n        }\n      }\n\n      throw error;\n    });\n  }, []);\n  /* 软取消，由于竞态，需要取消上一次的请求 */\n\n  var softCancel = useCallback(function () {\n    if (autoCancel) {\n      count.current += 1;\n      set(function (s) {\n        return _objectSpread({}, s, {\n          loading: false\n        });\n      });\n    }\n  }, [autoCancel]);\n  /* 强制取消，组件卸载，或者用户手工取消 */\n\n  var forceCancel = useCallback(function () {\n    count.current += 1;\n    set(function (s) {\n      return _objectSpread({}, s, {\n        loading: false\n      });\n    });\n  }, []);\n  var stop = useCallback(function () {\n    if (timer.current) {\n      timer.current.stop();\n      omitNextResume.current = true;\n    }\n\n    forceCancel();\n  }, [forceCancel]);\n  var resume = useCallback(function () {\n    if (timer.current) {\n      omitNextResume.current = false;\n      timer.current.resume();\n    }\n  }, []);\n  var pause = useCallback(function () {\n    if (timer.current) {\n      timer.current.pause();\n      omitNextResume.current = true;\n    }\n\n    forceCancel();\n  }, [forceCancel]);\n  var start = useCallback(_async(function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    // 有定时器的延时逻辑\n    if (_options.pollingInterval) {\n      if (timer.current) {\n        stop();\n      }\n\n      omitNextResume.current = false;\n      timer.current = new Timer(function () {\n        return start.apply(void 0, args);\n      }, _options.pollingInterval);\n      var ret = run.apply(void 0, args);\n      ret.finally(function () {\n        if (timer.current && !omitNextResume.current) {\n          timer.current.resume();\n        }\n      });\n      return ret;\n    } // 如果上一次异步操作还在 loading，则会尝试取消掉上一次的异步操作。\n\n\n    softCancel();\n    return run.apply(void 0, args);\n  }), [run, softCancel, stop, _options.pollingInterval]);\n  useEffect(function () {\n    if (!_options.manual) {\n      // deps 变化时，重新执行\n      start();\n    }\n    /* 如果 desp 变化，强制取消 */\n\n\n    return function () {\n      if (timer.current) {\n        timer.current.stop();\n      }\n\n      forceCancel();\n    };\n  }, [].concat(_toConsumableArray(_deps), [forceCancel, start]));\n  return {\n    loading: state.loading,\n    params: params.current,\n    error: state.error,\n    data: state.data,\n    cancel: forceCancel,\n    run: start,\n    timer: {\n      stop: stop,\n      resume: resume,\n      pause: pause\n    }\n  };\n}\n\nexport default useAsync;"]},"metadata":{},"sourceType":"module"}