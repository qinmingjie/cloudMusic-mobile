{"ast":null,"code":"import _slicedToArray from\"E:\\\\github-project\\\\cloudMusic-mobile\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{Fragment,useState}from\"react\";import titles from\"../static/css/playdetail.module.css\";import{NavLink}from\"react-router-dom\";import dayjs from\"dayjs\";var relativeTime=require(\"dayjs/plugin/relativeTime\");require(\"dayjs/locale/zh-cn\");dayjs.locale(\"zh-cn\");export default function DetailTitle(props){//拿取父组件传递的信息，分离需要信息\nvar data=props.data;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];return/*#__PURE__*/React.createElement(Fragment,null,data?/*#__PURE__*/React.createElement(\"div\",{className:titles.detailWrap},/*#__PURE__*/React.createElement(\"div\",{className:titles.detailCoverImg},/*#__PURE__*/React.createElement(\"img\",{src:data.coverImgUrl,className:\"j-img\"}),/*#__PURE__*/React.createElement(\"span\",{className:titles.cover})),/*#__PURE__*/React.createElement(\"div\",{className:titles.detailTxt},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},/*#__PURE__*/React.createElement(\"div\",{className:titles.detailTiile},/*#__PURE__*/React.createElement(\"i\",{className:titles.detailIcon1},/*#__PURE__*/React.createElement(\"span\",{className:\"\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"\"},/*#__PURE__*/React.createElement(\"h2\",{className:titles.detailh2},data.name))),/*#__PURE__*/React.createElement(\"div\",{className:titles.detailIcon2},/*#__PURE__*/React.createElement(\"i\",{className:titles.detailFace},/*#__PURE__*/React.createElement(\"img\",{src:data.creator.avatarUrl})),/*#__PURE__*/React.createElement(\"span\",{className:\"name\"},/*#__PURE__*/React.createElement(\"i\",{className:\"s-fc7\"},data.creator.nickname)),/*#__PURE__*/React.createElement(\"sup\",{className:titles.detailIcon3},\"\\xA0\"),/*#__PURE__*/React.createElement(\"span\",{className:titles.detailTime},dayjs(data.createTime).format(\"YYYY-MM-D\"),\" \\xA0\\xA0\\u521B\\u5EFA\")),/*#__PURE__*/React.createElement(\"div\",{id:\"content-operation\",className:titles.detailIcons},/*#__PURE__*/React.createElement(\"div\",{className:titles.detailIcons1,title:\"\\u64AD\\u653E\"},/*#__PURE__*/React.createElement(\"i\",null,/*#__PURE__*/React.createElement(\"em\",{className:\"ply\"}),\"\\u64AD\\u653E\")),/*#__PURE__*/React.createElement(\"div\",{className:titles.detailIcons2,hidefocus:\"true\",title:\"\\u6DFB\\u52A0\\u5230\\u64AD\\u653E\\u5217\\u8868\"}),/*#__PURE__*/React.createElement(\"div\",{className:titles.detailIcons3},/*#__PURE__*/React.createElement(\"i\",null,\"(\",String(data.playCount).slice(0,4),\")\")),/*#__PURE__*/React.createElement(\"div\",{className:titles.detailIcons4},/*#__PURE__*/React.createElement(\"i\",null,\"(\",String(data.shareCount).slice(0,4),\")\")),/*#__PURE__*/React.createElement(\"div\",{className:titles.detailIcons5},/*#__PURE__*/React.createElement(\"i\",null,\"(\",/*#__PURE__*/React.createElement(\"span\",{id:\"cnt_comment_count\"},String(data.commentCount).slice(0,4)),\")\"))),/*#__PURE__*/React.createElement(\"div\",{className:titles.detailTags},/*#__PURE__*/React.createElement(\"b\",null,\"\\u6807\\u7B7E\\uFF1A\"),data.tags.map(function(item,index){return/*#__PURE__*/React.createElement(NavLink,{key:item,to:\"/index/playlist?cat=\".concat(item,\"&limit=100&page=1\")},/*#__PURE__*/React.createElement(\"i\",null,item));})),/*#__PURE__*/React.createElement(\"div\",{id:\"album-desc-more\",className:\"intr f-brk\"},/*#__PURE__*/React.createElement(\"p\",{className:titles.detailSclieTxt,dangerouslySetInnerHTML:{__html:(data.description===\"null\"?\"\":data.description.replace(/\\n/g,\"</br>\").length)<140?\"介绍：\"+data.description.replace(/\\n/g,\"</br>\"):\"介绍：\"+(data.description.replace(/\\n/g,\"</br>\").slice(0,140)+\"...\")},style:show?{display:\"none\"}:{display:\"block\"}}),/*#__PURE__*/React.createElement(\"p\",{className:titles.detailSclieAll,dangerouslySetInnerHTML:{__html:\"介绍：\"+(data.description===\"null\"?\"\":data.description.replace(/\\n/g,\"</br>\"))},style:!show?{display:\"none\"}:{display:\"block\"}}),data.description.replace(/\\n/g,\"</br>\").length<140?\"\":/*#__PURE__*/React.createElement(\"div\",{className:titles.detailSelect},/*#__PURE__*/React.createElement(\"span\",{onClick:function onClick(){setShow(!show);}},show?\"收起\":\"展开\",/*#__PURE__*/React.createElement(\"i\",{id:show?titles.detailShow:\"\"}))))))):\"\");}","map":{"version":3,"sources":["E:/github-project/cloudMusic-mobile/src/component/detailtitle.js"],"names":["React","Fragment","useState","titles","NavLink","dayjs","relativeTime","require","locale","DetailTitle","props","data","show","setShow","detailWrap","detailCoverImg","coverImgUrl","cover","detailTxt","detailTiile","detailIcon1","detailh2","name","detailIcon2","detailFace","creator","avatarUrl","nickname","detailIcon3","detailTime","createTime","format","detailIcons","detailIcons1","detailIcons2","detailIcons3","String","playCount","slice","detailIcons4","shareCount","detailIcons5","commentCount","detailTags","tags","map","item","index","detailSclieTxt","__html","description","replace","length","display","detailSclieAll","detailSelect","detailShow"],"mappings":"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","sourcesContent":["import React,{Fragment, useState}from \"react\"\r\nimport titles from \"../static/css/playdetail.module.css\"\r\nimport {NavLink} from \"react-router-dom\"\r\nimport dayjs from \"dayjs\"\r\nlet relativeTime = require(\"dayjs/plugin/relativeTime\")\r\nrequire(\"dayjs/locale/zh-cn\")\r\ndayjs.locale(\"zh-cn\")\r\nexport default function DetailTitle(props){\r\n    //拿取父组件传递的信息，分离需要信息\r\n    let {data} = props\r\n    let [show,setShow] = useState(false)\r\n    return(\r\n        <Fragment>\r\n            {data?\r\n            <div className={titles.detailWrap}> \r\n                <div className={titles.detailCoverImg}>\r\n                    <img src={data.coverImgUrl} className=\"j-img\"/>\r\n                    <span className={titles.cover}></span>\r\n                </div>\r\n                <div className={titles.detailTxt}>\r\n                    <div className=\"\">\r\n                        <div className={titles.detailTiile}>\r\n                            <i className={titles.detailIcon1}><span className=\"\" ></span></i>\r\n                            <div className=\"\">\r\n                                <h2 className={titles.detailh2}>{data.name}</h2>\r\n                            </div>\r\n                        </div>\r\n                        <div className={titles.detailIcon2}>\r\n                            <i className={titles.detailFace} ><img src={data.creator.avatarUrl}/></i>\r\n                            <span className=\"name\">\r\n                            <i  className=\"s-fc7\">{data.creator.nickname}</i>\r\n                            </span>\r\n                            <sup className={titles.detailIcon3}>&nbsp;</sup>\r\n                            <span className={titles.detailTime}>{dayjs(data.createTime).format(\"YYYY-MM-D\")} &nbsp;&nbsp;创建</span>\r\n                        </div>\r\n                        <div id=\"content-operation\" className={titles.detailIcons}>\r\n                            <div className={titles.detailIcons1} title=\"播放\">\r\n                                <i>\r\n                                    <em className=\"ply\"></em>播放\r\n                                </i>\r\n                            </div>\r\n                            <div className={titles.detailIcons2} hidefocus=\"true\" title=\"添加到播放列表\"></div>\r\n                            <div  className={titles.detailIcons3} >\r\n                                <i>({String(data.playCount).slice(0,4)})</i>\r\n                            </div>\r\n                            <div className={titles.detailIcons4}>\r\n                                <i>({String(data.shareCount).slice(0,4)})</i>\r\n                            </div>\r\n                            <div className={titles.detailIcons5}>\r\n                                <i>(<span id=\"cnt_comment_count\">{String(data.commentCount).slice(0,4)}</span>)</i>\r\n                            </div>\r\n                        </div>\r\n                        <div className={titles.detailTags}>\r\n                            <b>标签：</b>\r\n                            {data.tags.map((item,index)=>{\r\n                                return <NavLink key={item} to={`/index/playlist?cat=${item}&limit=100&page=1`}><i>{item}</i></NavLink>\r\n                            })}\r\n                        </div>\r\n                        <div id=\"album-desc-more\" className=\"intr f-brk\">\r\n                            <p \r\n                                className={titles.detailSclieTxt}\r\n                                dangerouslySetInnerHTML={{\r\n                                    __html:((data.description===\"null\")?\"\":data.description.replace(/\\n/g,`</br>`).length)<140?(\"介绍：\"+(data.description.replace(/\\n/g,`</br>`))):(\"介绍：\"+(data.description.replace(/\\n/g,`</br>`).slice(0,140) + \"...\"))\r\n                                }}\r\n                                style={show?{display:\"none\"}:{display:\"block\"}}\r\n                            >\r\n                            </p>\r\n                            <p \r\n                                className={titles.detailSclieAll}\r\n                                dangerouslySetInnerHTML={{\r\n                                    __html:\"介绍：\" + ((data.description===\"null\")?\"\":data.description.replace(/\\n/g,`</br>`))\r\n                                }}\r\n                                style={!show?{display:\"none\"}:{display:\"block\"}}\r\n                            >\r\n                            </p>\r\n                            {(data.description.replace(/\\n/g,`</br>`).length<140)?\"\":<div className={titles.detailSelect}><span onClick={()=>{\r\n                               setShow(!show)\r\n                            }}>{show?\"收起\":\"展开\"}<i id={show?titles.detailShow:\"\"}></i></span></div>}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>:\"\"}\r\n        </Fragment>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}