{"ast":null,"code":"var _jsxFileName = \"E:\\\\github-project\\\\cloudMusic-mobile\\\\src\\\\component\\\\newdic.js\";\nimport React, { useEffect, useState, createElement } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useNewDics } from \"../store/action/index\";\nimport { useLocation } from \"react-router-dom\";\n\nfunction NewDics() {\n  let loca = useLocation().pathname; //获取管理状态仓库\n\n  let state = useSelector(state => {\n    return state.newdicsReducer;\n  }); //获取仓库管理函数操作状态函数，获取新碟上架数据\n\n  let getData = useNewDics();\n  useEffect(() => {\n    getData(\"/album/newest\");\n  }, [loca]);\n  let data = state.data;\n  let [ulloc, setul] = useState(0);\n  let [time, setTime] = useState(true);\n  useEffect(() => {\n    // 获取元素节点和信息1克隆2克隆  再点3删除回到1\n    let ul = document.querySelector(\".newDic-Name\");\n    let list = ul.querySelectorAll(\".newDicList\");\n    let liwidth = list[0].clientWidth;\n    ul.style.transform = `translate(-${liwidth * 5 * ulloc}px,0)`;\n    ul.style.transition = \"all 0.5s\"; //初始化是克隆节点\n\n    function onceFn(fn) {\n      return function () {\n        if (time) {\n          console.log(\"函数执行\" + time);\n          setTime(false);\n          fn();\n        }\n      };\n    }\n\n    let cloneNext = function () {\n      return data.albums.slice(0, 5).map((item, index) => {\n        let clonelist = document.createElement(\"li\");\n        clonelist.setAttribute(\"class\", \"newDicList cloneLi\");\n        clonelist.innerHTML += `<div key=${index}>\n                       <div class=\"newDic-muc\">\n                           <img src=${item.picUrl} alt=\"\"/>\n                           <a href=\"\" class=\"newDic-cover\"></a>\n                           <a href=\"\" class=\"newDic-play\"></a>\n                       </div>\n                       <p class=\"dictxt\"><a href=\"\" class=\"newDic-name\">${item.name}</a></p>\n                       <p class=\"dictxt\"><a href=\"\" class=\"newDic-txt\">${item.artist.name}</a></p>\n                   </div>\n               `;\n        ul.appendChild(clonelist);\n      });\n    };\n\n    let clonePrev = function () {\n      return data.albums.slice(5, 10).map((item, index) => {\n        let clonelist = document.createElement(\"li\");\n        clonelist.setAttribute(\"class\", \"newDicList cloneLi\");\n        clonelist.innerHTML += `<div key=${index}>\n                       <div class=\"newDic-muc\">\n                           <img src=${item.picUrl} alt=\"\"/>\n                           <a href=\"\" class=\"newDic-cover\"></a>\n                           <a href=\"\" class=\"newDic-play\"></a>\n                       </div>\n                       <p class=\"dictxt\"><a href=\"\" class=\"newDic-name\">${item.name}</a></p>\n                       <p class=\"dictxt\"><a href=\"\" class=\"newDic-txt\">${item.artist.name}</a></p>\n                   </div>\n               `;\n        ul.insertBefore(clonelist, list[0]);\n      });\n    }; // 删除克隆节点\n\n\n    let remove = function (direction) {\n      let newlist = ul.querySelectorAll(\".newDicList\");\n      console.log(\"kankan\");\n\n      if (direction === \"prev\") {\n        Array(...newlist).slice(0, 5).map(item => {\n          ul.removeChild(item);\n        });\n      } else if (direction === \"next\") {\n        let newlist = ul.querySelectorAll(\".newDicList\");\n        console.log(\"我在remove\");\n        Array(...newlist).slice(-5, -1).map(item => {\n          ul.removeChild(item);\n        });\n      }\n    };\n\n    if (ulloc < list.length / 5 - 1) {\n      console.log(ulloc, list.length / 5);\n      onceFn(cloneNext)();\n    } else if (ulloc === list.length / 5 - 1) {\n      remove(\"next\");\n      ul.style.transform = `translate(${-0 * 5 * liwidth}px,0)`;\n      ul.style.transition = \"all 0s\";\n      setul(1);\n    } // else if(ulloc===3){\n    //     console.log(ulloc+\"删除节点\")\n    //     Array(...ul.querySelectorAll(\".cloneLi\")).map((item)=>{\n    //         ul.removeChild(item)\n    //     })\n    //     ul.style.transform= `translate(${-(0)*5*liwidth}px,0)`\n    //     ul.style.transition=\"all 0s\"\n    //     setul(1)\n    // }\n    //     onClick={()=>{\n    //         let ul = document.querySelector(\".newDic-Name\")\n    //         let list = ul.querySelectorAll(\".newDicList\")\n    //         let liwidth = list[0].clientWidth;\n    //         if(ulloc<(Math.floor((list.length/5)-1))){\n    //             setul(++ulloc)\n    //             console.log(ulloc)\n    //             ul.style.transform= `translate(${-(ulloc*5)*liwidth}px,0)`\n    //         }else if(ulloc<=((list.length/5)-1)){\n    //             console.log(ulloc,(Math.floor((list.length/5)-1)),(list.length/5))\n    //             setul(++ulloc)\n    //             let clonelist = document.createElement(\"li\")\n    //             data.albums.slice(0,5).map((item,index)=>{\n    //                 clonelist.innerHTML += `<li class=\"newDicList\" key=${index}>\n    //                         <div class=\"newDic-muc\">\n    //                             <img src=${item.picUrl} alt=\"\"/>\n    //                             <a href=\"\" class=\"newDic-cover\"></a>\n    //                             <a href=\"\" class=\"newDic-play\"></a>\n    //                         </div>\n    //                         <p class=\"dictxt\"><a href=\"\" class=\"newDic-name\">${item.name}</a></p>\n    //                         <p class=\"dictxt\"><a href=\"\" class=\"newDic-txt\">${item.artist.name}</a></p>\n    //                     </li>\n    //                 `\n    //             })\n    //             ul.appendChild(clonelist)\n    //             ul.style.transform= `translate(${-((ulloc)*5)*liwidth}px,0)`\n    //             // ul.removeChild(clonelist)\n    //             // setul(0)\n    //             // ul.style.transform= `translate(${-((ulloc)*5)*liwidth}px,0)`\n    //         }else if(ulloc>(Math.floor((list.length/5)-1))){\n    //             console.log(\"该回去了\")\n    //         }\n    // }}\n\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dic-muc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newDic-prev\",\n    onClick: () => {\n      setul(--ulloc);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newDic\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"newDic-Name\",\n    style: {\n      translate: ``\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 17\n    }\n  }, data.length === undefined ? data.albums.slice(0, 10).map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      className: \"newDicList\",\n      key: item.artist.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"newDic-muc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: item.picUrl,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"\",\n      className: \"newDic-cover\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"\",\n      className: \"newDic-play\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"dictxt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 24\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"\",\n      className: \"newDic-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 46\n      }\n    }, item.name)), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"dictxt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 24\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"\",\n      className: \"newDic-txt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 46\n      }\n    }, item.artist.name)));\n  }) : \"\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newDic-next\",\n    onClick: () => {\n      setul(++ulloc);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 13\n    }\n  }));\n}\n\nexport default NewDics;","map":{"version":3,"sources":["E:/github-project/cloudMusic-mobile/src/component/newdic.js"],"names":["React","useEffect","useState","createElement","useSelector","useNewDics","useLocation","NewDics","loca","pathname","state","newdicsReducer","getData","data","ulloc","setul","time","setTime","ul","document","querySelector","list","querySelectorAll","liwidth","clientWidth","style","transform","transition","onceFn","fn","console","log","cloneNext","albums","slice","map","item","index","clonelist","setAttribute","innerHTML","picUrl","name","artist","appendChild","clonePrev","insertBefore","remove","direction","newlist","Array","removeChild","length","translate","undefined","id"],"mappings":"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","sourcesContent":["import  React, { useEffect,useState, createElement} from \"react\"\r\nimport {useSelector} from \"react-redux\"\r\nimport {useNewDics} from \"../store/action/index\"\r\nimport {useLocation} from \"react-router-dom\"\r\nfunction NewDics(){\r\n    let loca = useLocation().pathname\r\n    //获取管理状态仓库\r\n    let state = useSelector((state)=>{\r\n        return state.newdicsReducer;\r\n    })\r\n    //获取仓库管理函数操作状态函数，获取新碟上架数据\r\n    let getData = useNewDics()\r\n    useEffect(()=>{\r\n        getData(\"/album/newest\")\r\n    },[loca])\r\n    let data = state.data\r\n    let [ulloc,setul] = useState(0)\r\n    let [time,setTime] = useState(true)\r\n    useEffect(()=>{\r\n        // 获取元素节点和信息1克隆2克隆  再点3删除回到1\r\n       let ul = document.querySelector(\".newDic-Name\")\r\n       let list = ul.querySelectorAll(\".newDicList\")\r\n       let liwidth = list[0].clientWidth;\r\n       \r\n       ul.style.transform = `translate(-${(liwidth*5)*ulloc}px,0)`\r\n       ul.style.transition = \"all 0.5s\"\r\n       //初始化是克隆节点\r\n       function onceFn(fn){\r\n           return function(){\r\n               if(time){\r\n                   console.log(\"函数执行\"+time)\r\n                   setTime(false);\r\n                   fn()\r\n               }\r\n           }\r\n       }\r\n\r\n       let cloneNext = function(){\r\n           return data.albums.slice(0,5).map((item,index)=>{\r\n               let clonelist = document.createElement(\"li\")\r\n               clonelist.setAttribute(\"class\",\"newDicList cloneLi\")\r\n               clonelist.innerHTML += `<div key=${index}>\r\n                       <div class=\"newDic-muc\">\r\n                           <img src=${item.picUrl} alt=\"\"/>\r\n                           <a href=\"\" class=\"newDic-cover\"></a>\r\n                           <a href=\"\" class=\"newDic-play\"></a>\r\n                       </div>\r\n                       <p class=\"dictxt\"><a href=\"\" class=\"newDic-name\">${item.name}</a></p>\r\n                       <p class=\"dictxt\"><a href=\"\" class=\"newDic-txt\">${item.artist.name}</a></p>\r\n                   </div>\r\n               `\r\n               ul.appendChild(clonelist)  \r\n           })\r\n       }\r\n\r\n       let clonePrev = function(){\r\n           return data.albums.slice(5,10).map((item,index)=>{\r\n               let clonelist = document.createElement(\"li\")\r\n               clonelist.setAttribute(\"class\",\"newDicList cloneLi\")\r\n               clonelist.innerHTML += `<div key=${index}>\r\n                       <div class=\"newDic-muc\">\r\n                           <img src=${item.picUrl} alt=\"\"/>\r\n                           <a href=\"\" class=\"newDic-cover\"></a>\r\n                           <a href=\"\" class=\"newDic-play\"></a>\r\n                       </div>\r\n                       <p class=\"dictxt\"><a href=\"\" class=\"newDic-name\">${item.name}</a></p>\r\n                       <p class=\"dictxt\"><a href=\"\" class=\"newDic-txt\">${item.artist.name}</a></p>\r\n                   </div>\r\n               `\r\n               ul.insertBefore(clonelist,list[0]) \r\n           })\r\n       }\r\n       // 删除克隆节点\r\n       let remove = function(direction){\r\n           let newlist = ul.querySelectorAll(\".newDicList\")\r\n           console.log(\"kankan\")\r\n           if(direction===\"prev\"){\r\n               Array(...newlist).slice(0,5).map((item)=>{\r\n                   ul.removeChild(item)\r\n               })\r\n           }else if(direction===\"next\"){\r\n               let newlist = ul.querySelectorAll(\".newDicList\")\r\n               console.log(\"我在remove\")\r\n               Array(...newlist).slice(-5,-1).map((item)=>{\r\n                   ul.removeChild(item)\r\n               })\r\n           }\r\n       }\r\n       if(ulloc<(list.length/5)-1){\r\n           console.log(ulloc,(list.length/5))\r\n           onceFn(cloneNext)()\r\n       }else if(ulloc===(list.length/5)-1){\r\n            remove(\"next\")\r\n            ul.style.transform= `translate(${-(0)*5*liwidth}px,0)`\r\n            ul.style.transition=\"all 0s\"\r\n            setul(1)\r\n       }\r\n            \r\n            \r\n            \r\n            // else if(ulloc===3){\r\n            //     console.log(ulloc+\"删除节点\")\r\n            //     Array(...ul.querySelectorAll(\".cloneLi\")).map((item)=>{\r\n            //         ul.removeChild(item)\r\n            //     })\r\n            //     ul.style.transform= `translate(${-(0)*5*liwidth}px,0)`\r\n            //     ul.style.transition=\"all 0s\"\r\n            //     setul(1)\r\n            // }\r\n        //     onClick={()=>{\r\n        //         let ul = document.querySelector(\".newDic-Name\")\r\n        //         let list = ul.querySelectorAll(\".newDicList\")\r\n        //         let liwidth = list[0].clientWidth;\r\n        //         if(ulloc<(Math.floor((list.length/5)-1))){\r\n        //             setul(++ulloc)\r\n        //             console.log(ulloc)\r\n        //             ul.style.transform= `translate(${-(ulloc*5)*liwidth}px,0)`\r\n        //         }else if(ulloc<=((list.length/5)-1)){\r\n        //             console.log(ulloc,(Math.floor((list.length/5)-1)),(list.length/5))\r\n        //             setul(++ulloc)\r\n                \r\n        //             let clonelist = document.createElement(\"li\")\r\n        //             data.albums.slice(0,5).map((item,index)=>{\r\n        //                 clonelist.innerHTML += `<li class=\"newDicList\" key=${index}>\r\n        //                         <div class=\"newDic-muc\">\r\n        //                             <img src=${item.picUrl} alt=\"\"/>\r\n        //                             <a href=\"\" class=\"newDic-cover\"></a>\r\n        //                             <a href=\"\" class=\"newDic-play\"></a>\r\n        //                         </div>\r\n        //                         <p class=\"dictxt\"><a href=\"\" class=\"newDic-name\">${item.name}</a></p>\r\n        //                         <p class=\"dictxt\"><a href=\"\" class=\"newDic-txt\">${item.artist.name}</a></p>\r\n        //                     </li>\r\n        //                 `\r\n        //             })\r\n        //             ul.appendChild(clonelist)\r\n        //             ul.style.transform= `translate(${-((ulloc)*5)*liwidth}px,0)`\r\n        //             // ul.removeChild(clonelist)\r\n        //             // setul(0)\r\n        //             // ul.style.transform= `translate(${-((ulloc)*5)*liwidth}px,0)`\r\n        //         }else if(ulloc>(Math.floor((list.length/5)-1))){\r\n        //             console.log(\"该回去了\")\r\n        //         }\r\n                \r\n        // }}\r\n    })\r\n    return(\r\n        <div className=\"dic-muc\">\r\n            <div className=\"newDic-prev\"\r\n                onClick={()=>{\r\n                    setul(--ulloc)\r\n                }}\r\n            ></div>\r\n            <div className=\"newDic\">\r\n                <ul className=\"newDic-Name\" style={{translate:``}}>\r\n                   {data.length===undefined?(data.albums.slice(0,10).map((item,index)=>{\r\n                       return (\r\n                        <li className=\"newDicList\" key={item.artist.id}>\r\n                            <div className=\"newDic-muc\">\r\n                                <img src={item.picUrl} alt=\"\"/>\r\n                                <a href=\"\" className=\"newDic-cover\"></a>\r\n                                <a href=\"\" className=\"newDic-play\"></a>\r\n                            </div>\r\n                       <p className=\"dictxt\"><a href=\"\" className=\"newDic-name\">{item.name}</a></p>\r\n                       <p className=\"dictxt\"><a href=\"\" className=\"newDic-txt\">{item.artist.name}</a></p>\r\n                        </li>\r\n                       )\r\n                   })):\"\"}\r\n                </ul>\r\n            </div>\r\n            <div className=\"newDic-next\"\r\n                onClick={()=>{\r\n                    setul(++ulloc)\r\n                }}\r\n            ></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NewDics"]},"metadata":{},"sourceType":"module"}