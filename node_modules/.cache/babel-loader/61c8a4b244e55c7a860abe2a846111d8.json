{"ast":null,"code":"var _jsxFileName = \"E:\\\\github-project\\\\cloudMusic-mobile\\\\src\\\\component\\\\topmusiclist.js\";\nimport React, { Fragment, useState, useEffect } from \"react\";\nimport PlayCover from \"./playcover\";\nimport { NavLink } from \"react-router-dom\";\nimport { useMusicurl, getUrl } from \"../store/action/index\";\nimport { useSelector } from \"react-redux\";\nimport MusicList from \"./musiclist\";\n\nfunction TopMusicList(props) {\n  let [show, setShow] = useState(false); // console.log(props.data)\n\n  let [muslocation, setMusic] = useState(1); //获取音乐地址状态管理函数\n  // let getmusic = useMusicurl()\n  // let state = useSelector((state)=>{\n  //     return state.musicReducer\n  // })\n  // let newurl;\n  // useEffect(()=>{\n  //     if(state.data.length===undefined){\n  //         let muc = new Promise((reslove,reject)=>{\n  //             setMusic(state.data.data[0].url)\n  //         }).then((res)=>{\n  //             console.log(res)\n  //         })\n  //     }\n  // },[state,muslocation])\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"notice-mucList\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }, props.data.length === 0 ? \"\" : props.data.playlist.tracks.slice(0, 10).map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      className: \"notice-list\",\n      id: show ? \"show\" : \"\",\n      key: item.id,\n      onMouseEnter: function (e) {\n        let parentnode = e.target;\n\n        function Parent() {\n          if (parentnode.parentElement.getAttribute(\"class\") === \"notice-mucList\") {\n            parentnode.querySelector(\".num-show\").style.display = \"block\";\n          } else {\n            parentnode = parentnode.parentElement;\n            Parent();\n          }\n        }\n\n        Parent();\n      },\n      onMouseLeave: function (e) {\n        let parentnode = e.target;\n\n        function Parent() {\n          if (parentnode.parentElement.getAttribute(\"class\") === \"notice-mucList\") {\n            parentnode.querySelector(\".num-show\").style.display = \"none\";\n          } else {\n            parentnode = parentnode.parentElement;\n            Parent();\n          }\n        }\n\n        Parent();\n      },\n      onClick: () => {\n        {\n          /*getmusic(`/song/url?id=${item.id}`)*/\n        }\n        getUrl(`/song/url?id=${item.id}`).then(res => {\n          function muc(Data) {\n            return new Promise((reslove, reject) => {\n              setMusic(Data);\n            });\n          }\n\n          muc(res.data.data[0].url).then(() => {\n            console.log(musicLocation);\n\n            if (musicLocation === null) {\n              alert(\"为获取到版权,努力中！\");\n            }\n          });\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: index < 3 ? \"rednum\" : \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 29\n      }\n    }, index + 1), /*#__PURE__*/React.createElement(NavLink, {\n      to: \"\",\n      className: \"num-music\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 29\n      }\n    }, item.name), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"num-show\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(PlayCover, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 33\n      }\n    })));\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"notice more\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    to: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, \"\\u67E5\\u770B\\u66F4\\u591A>\")));\n}\n\nexport default TopMusicList;","map":{"version":3,"sources":["E:/github-project/cloudMusic-mobile/src/component/topmusiclist.js"],"names":["React","Fragment","useState","useEffect","PlayCover","NavLink","useMusicurl","getUrl","useSelector","MusicList","TopMusicList","props","show","setShow","muslocation","setMusic","data","length","playlist","tracks","slice","map","item","index","id","e","parentnode","target","Parent","parentElement","getAttribute","querySelector","style","display","then","res","muc","Data","Promise","reslove","reject","url","console","log","musicLocation","alert","name"],"mappings":"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","sourcesContent":["import React, { Fragment,useState,useEffect} from \"react\"\r\nimport PlayCover from \"./playcover\"\r\nimport {NavLink} from \"react-router-dom\"\r\nimport {useMusicurl,getUrl} from \"../store/action/index\"\r\nimport {useSelector} from \"react-redux\"\r\nimport MusicList from \"./musiclist\"\r\nfunction TopMusicList(props){\r\n    let [show,setShow] = useState(false)\r\n\r\n    // console.log(props.data)\r\n    let [muslocation,setMusic] = useState(1)\r\n\r\n    //获取音乐地址状态管理函数\r\n    // let getmusic = useMusicurl()\r\n\r\n    // let state = useSelector((state)=>{\r\n    //     return state.musicReducer\r\n    // })\r\n    // let newurl;\r\n    // useEffect(()=>{\r\n    //     if(state.data.length===undefined){\r\n    //         let muc = new Promise((reslove,reject)=>{\r\n    //             setMusic(state.data.data[0].url)\r\n    //         }).then((res)=>{\r\n    //             console.log(res)\r\n    //         })\r\n    //     }\r\n       \r\n    // },[state,muslocation])\r\n   \r\n    \r\n    \r\n    return(\r\n        <Fragment>\r\n            <ul className=\"notice-mucList\">\r\n                {props.data.length===0?\"\":(props.data.playlist.tracks.slice(0,10).map((item,index)=>{\r\n                    return(\r\n                        <li className=\"notice-list\" id={show?\"show\":\"\"} key={item.id} \r\n                            onMouseEnter={function(e){\r\n                                let parentnode = e.target;\r\n                                function Parent(){\r\n                                    if(parentnode.parentElement.getAttribute(\"class\")===\"notice-mucList\"){\r\n                                      parentnode.querySelector(\".num-show\").style.display=\"block\"\r\n                                    }else{\r\n                                        parentnode = parentnode.parentElement\r\n                                        Parent()\r\n                                    }\r\n                                }\r\n                                Parent()\r\n                            }}\r\n                            onMouseLeave={function(e){\r\n                                let parentnode = e.target;\r\n                                function Parent(){\r\n                                    if(parentnode.parentElement.getAttribute(\"class\")===\"notice-mucList\"){\r\n                                        parentnode.querySelector(\".num-show\").style.display=\"none\"\r\n                                    }else{\r\n                                        parentnode = parentnode.parentElement\r\n                                        Parent()\r\n                                    }\r\n                                }\r\n                                Parent()\r\n                            }}\r\n                            onClick={()=>{\r\n                                {/*getmusic(`/song/url?id=${item.id}`)*/}\r\n                                getUrl(`/song/url?id=${item.id}`).then((res)=>{\r\n                                    function muc(Data){\r\n                                        return new Promise((reslove,reject)=>{\r\n                                            setMusic(Data)\r\n                                        })\r\n                                    }\r\n                                    muc(res.data.data[0].url).then(()=>{\r\n                                        console.log(musicLocation)\r\n                                        if(musicLocation===null){\r\n                                            alert(\"为获取到版权,努力中！\")\r\n                                        }\r\n                                    })\r\n                                })\r\n                            }}\r\n                        >\r\n                            <span className={index<3?\"rednum\":\"\"}>{index+1}</span>\r\n                            <NavLink  to=\"\" className=\"num-music\">{item.name}</NavLink>\r\n                            <div className=\"num-show\">\r\n                                <PlayCover/>\r\n                            </div>\r\n                        </li>\r\n                    )\r\n                }))}\r\n            </ul>\r\n            <div className=\"notice more\">\r\n                <NavLink to=\"\">查看更多></NavLink>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default TopMusicList;"]},"metadata":{},"sourceType":"module"}