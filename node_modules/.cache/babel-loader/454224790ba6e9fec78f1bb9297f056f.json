{"ast":null,"code":"var _jsxFileName = \"E:\\\\github-project\\\\cloudMusic-mobile\\\\src\\\\component\\\\musiclist.js\";\nimport React, { Fragment, useState, useEffect } from \"react\";\nimport musiclist from \"../static/css/musiclist.module.css\";\nimport { useSelector } from \"react-redux\";\nimport { useMusicurl } from \"../store/action/index\";\nimport { getUrl } from \"../store/action/index\";\nexport default function MusicList(props) {\n  let {\n    data\n  } = props; // let [show,setShow] = useState(false)\n\n  let [musicLocation, setMuc] = useState(\"\");\n  useEffect(() => {// console.log(musicLocation)\n  }, [musicLocation]);\n\n  function getmusic(data) {\n    getUrl(`/song/url?id=${data}`).then(res => {\n      function muc(Data) {\n        return new Promise((reslove, reject) => {\n          setMuc(Data);\n        });\n      }\n\n      muc(res.data.data[0].url).then(() => {\n        console.log(musicLocation);\n\n        if (musicLocation === null) {\n          alert(\"为获取到版权,努力中！\");\n        }\n      });\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }, data ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: musiclist.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 29\n    }\n  }, \"\\u6B4C\\u66F2\\u5217\\u8868\")), /*#__PURE__*/React.createElement(\"span\", {\n    className: musiclist.numbers,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 29\n    }\n  }, data.trackCount), \"\\u9996\\u6B4C\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: musiclist.playnumber,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 25\n    }\n  }, \"\\u64AD\\u653E\\uFF1A\", /*#__PURE__*/React.createElement(\"strong\", {\n    className: musiclist.red,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 66\n    }\n  }, data.playCount), \" \\u6B21\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"table\", {\n    className: musiclist.table,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    className: musiclist.thead,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    className: musiclist.head1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 61\n    }\n  })), /*#__PURE__*/React.createElement(\"th\", {\n    className: musiclist.head2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 61\n    }\n  }, \"\\u6B4C\\u66F2\\u6807\\u9898\")), /*#__PURE__*/React.createElement(\"th\", {\n    className: musiclist.head3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 61\n    }\n  }, \"\\u65F6\\u957F\")), /*#__PURE__*/React.createElement(\"th\", {\n    className: musiclist.head4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 61\n    }\n  }, \"\\u6B4C\\u624B\")), /*#__PURE__*/React.createElement(\"th\", {\n    className: musiclist.head5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 61\n    }\n  }, \"\\u4E13\\u8F91\")))), /*#__PURE__*/React.createElement(\"tbody\", {\n    className: musiclist.tbody,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }\n  }, data.tracks.map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: item.id,\n      musicurl: item.id,\n      id: \"14270104171586347518348\",\n      hasshow: \"show\",\n      className: (index + 1) % 2 === 0 ? \"\" : musiclist.gray,\n      onMouseEnter: function (e) {\n        let parentnode = e.target;\n\n        function Parent() {\n          if (parentnode.parentElement.getAttribute(\"hasshow\")) {\n            parentnode.parentElement.querySelector(\"#time\").style.display = \"none\";\n            parentnode.parentElement.querySelector(\"#timeIcons\").style.display = \"block\";\n          } else {\n            parentnode = parentnode.parentElement;\n            Parent();\n          }\n        }\n\n        Parent();\n      },\n      onClick: e => {\n        {\n          /**该点击时间中都是异步操作，音乐地址需要在点击时获取这是有的数据没有请求到就会出错所以使用Promise来同步异步操作 */\n        }\n        getUrl(`/song/url?id=${item.id}`).then(res => {\n          function muc(Data) {\n            return new Promise((reslove, reject) => {\n              setMuc(Data);\n            });\n          }\n\n          muc(res.data.data[0].url).then(() => {\n            console.log(musicLocation);\n\n            if (musicLocation === null) {\n              alert(\"为获取到版权,努力中！\");\n            }\n          });\n        });\n      },\n      onMouseLeave: function (e) {\n        let parentnode = e.target;\n\n        function Parent() {\n          if (parentnode.parentElement.getAttribute(\"hasshow\")) {\n            parentnode.parentElement.querySelector(\"#time\").style.display = \"block\";\n            parentnode.parentElement.querySelector(\"#timeIcons\").style.display = \"none\";\n          } else {\n            parentnode = parentnode.parentElement;\n            Parent();\n          }\n        }\n\n        Parent();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      className: musiclist.num,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: musiclist.icon1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 45\n      }\n    }, \"\\xA0\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: musiclist.num,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 45\n      }\n    }, index + 1))), /*#__PURE__*/React.createElement(\"td\", {\n      className: musiclist.muscName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 41\n      }\n    }, item.name)), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: musiclist.share,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: musiclist.time,\n      id: \"time\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 45\n      }\n    }, \"04:44\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: musiclist.show,\n      id: \"timeIcons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: musiclist.span1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 49\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: musiclist.span2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 49\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: musiclist.span3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 49\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: musiclist.span4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 49\n      }\n    })))), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: musiclist.song,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 41\n      }\n    }, item.ar[0].name)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: musiclist.album,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 41\n      }\n    }, item.al.name)));\n  })))) : \"\");\n}","map":{"version":3,"sources":["E:/github-project/cloudMusic-mobile/src/component/musiclist.js"],"names":["React","Fragment","useState","useEffect","musiclist","useSelector","useMusicurl","getUrl","MusicList","props","data","musicLocation","setMuc","getmusic","then","res","muc","Data","Promise","reslove","reject","url","console","log","alert","title","numbers","trackCount","playnumber","red","playCount","table","thead","head1","head2","head3","head4","head5","tbody","tracks","map","item","index","id","gray","e","parentnode","target","Parent","parentElement","getAttribute","querySelector","style","display","num","icon1","muscName","name","share","time","show","span1","span2","span3","span4","song","ar","album","al"],"mappings":"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","sourcesContent":["import React,{Fragment, useState, useEffect}from \"react\"\r\nimport musiclist from \"../static/css/musiclist.module.css\"\r\nimport {useSelector} from \"react-redux\"\r\nimport {useMusicurl} from \"../store/action/index\"\r\nimport {getUrl} from \"../store/action/index\"\r\nexport default function MusicList(props){\r\n    let {data} = props\r\n    // let [show,setShow] = useState(false)\r\n    let [musicLocation,setMuc] = useState(\"\");\r\n    useEffect(()=>{\r\n        // console.log(musicLocation)\r\n    },[musicLocation])\r\n\r\n    function getmusic(data){\r\n        getUrl(`/song/url?id=${data}`).then((res)=>{\r\n            function muc(Data){\r\n                return new Promise((reslove,reject)=>{\r\n                    setMuc(Data)\r\n                })\r\n            }\r\n            muc(res.data.data[0].url).then(()=>{\r\n                console.log(musicLocation)\r\n                if(musicLocation===null){\r\n                    alert(\"为获取到版权,努力中！\")\r\n                }\r\n            })\r\n        })\r\n    }\r\n    return(\r\n        <Fragment>\r\n            {data?(\r\n                <div>\r\n                     <div className={musiclist.title}>\r\n                        <h3>\r\n                            <span>歌曲列表</span>\r\n                        </h3>\r\n                        <span className={musiclist.numbers}>\r\n                            <span>{data.trackCount}</span>首歌\r\n                        </span>\r\n                        <div className={musiclist.playnumber}>播放：<strong  className={musiclist.red}>{data.playCount}</strong> 次</div>\r\n                        <div>\r\n                        </div>\r\n                    </div>\r\n                <table className={musiclist.table}>\r\n                    <thead>\r\n                        <tr className={musiclist.thead}>\r\n                            <th className={musiclist.head1}><div></div></th>\r\n                            <th className={musiclist.head2}><div>歌曲标题</div></th>\r\n                            <th className={musiclist.head3}><div>时长</div></th>\r\n                            <th className={musiclist.head4}><div>歌手</div></th>\r\n                            <th className={musiclist.head5}><div>专辑</div></th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody className={musiclist.tbody}>\r\n                        {data.tracks.map((item,index)=>{\r\n                            return(\r\n                                <tr key={item.id} musicurl={item.id} id=\"14270104171586347518348\" hasshow=\"show\" className={((index+1)%2===0)?\"\":musiclist.gray} \r\n                                onMouseEnter={function(e){\r\n                                    let parentnode = e.target;\r\n                                    function Parent(){\r\n                                        if(parentnode.parentElement.getAttribute(\"hasshow\")){\r\n                                           parentnode.parentElement.querySelector(\"#time\").style.display = \"none\";\r\n                                           parentnode.parentElement.querySelector(\"#timeIcons\").style.display = \"block\"\r\n                                        }else{\r\n                                            parentnode = parentnode.parentElement\r\n                                            Parent()\r\n                                        }\r\n                                    }\r\n                                    Parent()\r\n                                }}\r\n                                onClick={(e)=>{\r\n                                    {/**该点击时间中都是异步操作，音乐地址需要在点击时获取这是有的数据没有请求到就会出错所以使用Promise来同步异步操作 */}\r\n                                    getUrl(`/song/url?id=${item.id}`).then((res)=>{\r\n                                        function muc(Data){\r\n                                            return new Promise((reslove,reject)=>{\r\n                                                setMuc(Data)\r\n                                            })\r\n                                        }\r\n                                        muc(res.data.data[0].url).then(()=>{\r\n                                            console.log(musicLocation)\r\n                                            if(musicLocation===null){\r\n                                                alert(\"为获取到版权,努力中！\")\r\n                                            }\r\n                                        })\r\n                                    })\r\n                                }}\r\n                                onMouseLeave={function(e){\r\n                                    let parentnode = e.target;\r\n                                    function Parent(){\r\n                                        if(parentnode.parentElement.getAttribute(\"hasshow\")){\r\n                                           parentnode.parentElement.querySelector(\"#time\").style.display = \"block\";\r\n                                           parentnode.parentElement.querySelector(\"#timeIcons\").style.display = \"none\"\r\n                                        }else{\r\n                                            parentnode = parentnode.parentElement\r\n                                            Parent()\r\n                                        }\r\n                                    }\r\n                                    Parent()\r\n                                }}\r\n                                >\r\n                                    <td className={musiclist.num}>\r\n                                        <div>\r\n                                            <span className={musiclist.icon1}>&nbsp;</span>\r\n                                            <span  className={musiclist.num}>{index+1}</span>\r\n                                        </div>\r\n                                    </td>\r\n                                    <td className={musiclist.muscName}>\r\n                                        <div>\r\n                                           {item.name}\r\n                                        </div>\r\n                                    </td>\r\n                                    <td>\r\n                                        <div className={musiclist.share}>\r\n                                            <span className={musiclist.time}  id=\"time\">04:44</span>\r\n                                            <div className={musiclist.show} id=\"timeIcons\">\r\n                                                <span className={musiclist.span1}></span>\r\n                                                <span className={musiclist.span2}></span>\r\n                                                <span className={musiclist.span3}></span>\r\n                                                <span className={musiclist.span4}></span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </td>\r\n                                    <td className=\"\">\r\n                                        <div className={musiclist.song}>\r\n                                            {item.ar[0].name}\r\n                                        </div>\r\n                                    </td>\r\n                                    <td className=\"\">\r\n                                        <div className={musiclist.album}>\r\n                                            {item.al.name}\r\n                                        </div>\r\n                                    </td>\r\n                                </tr>\r\n                            )\r\n                        })}\r\n                        </tbody>\r\n                </table>\r\n                </div>\r\n               ):\"\"}\r\n        </Fragment>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}