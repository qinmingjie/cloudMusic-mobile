{"ast":null,"code":"import { useRef, useEffect, useCallback } from 'react'; // 鼠标点击事件，click 不会监听右键\n\nvar defaultEvent = 'click';\nexport default function useClickAway(onClickAway, dom) {\n  var eventName = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultEvent;\n  var element = useRef();\n  var handler = useCallback(function (event) {\n    var targetElement = typeof dom === 'function' ? dom() : dom;\n    var el = targetElement || element.current;\n\n    if (!el || el.contains(event.target)) {\n      return;\n    }\n\n    onClickAway(event);\n  }, [element.current, onClickAway, dom]);\n  useEffect(function () {\n    document.addEventListener(eventName, handler);\n    return function () {\n      document.removeEventListener(eventName, handler);\n    };\n  }, [eventName, handler]);\n  return element;\n}","map":{"version":3,"sources":["E:/github-project/cloudMusic-mobile/node_modules/@umijs/hooks/es/useClickAway/index.js"],"names":["useRef","useEffect","useCallback","defaultEvent","useClickAway","onClickAway","dom","eventName","arguments","length","undefined","element","handler","event","targetElement","el","current","contains","target","document","addEventListener","removeEventListener"],"mappings":"AAAA,SAASA,MAAT,EAAiBC,SAAjB,EAA4BC,WAA5B,QAA+C,OAA/C,C,CAAwD;;AAExD,IAAIC,YAAY,GAAG,OAAnB;AACA,eAAe,SAASC,YAAT,CAAsBC,WAAtB,EAAmCC,GAAnC,EAAwC;AACrD,MAAIC,SAAS,GAAGC,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoEL,YAApF;AACA,MAAIQ,OAAO,GAAGX,MAAM,EAApB;AACA,MAAIY,OAAO,GAAGV,WAAW,CAAC,UAAUW,KAAV,EAAiB;AACzC,QAAIC,aAAa,GAAG,OAAOR,GAAP,KAAe,UAAf,GAA4BA,GAAG,EAA/B,GAAoCA,GAAxD;AACA,QAAIS,EAAE,GAAGD,aAAa,IAAIH,OAAO,CAACK,OAAlC;;AAEA,QAAI,CAACD,EAAD,IAAOA,EAAE,CAACE,QAAH,CAAYJ,KAAK,CAACK,MAAlB,CAAX,EAAsC;AACpC;AACD;;AAEDb,IAAAA,WAAW,CAACQ,KAAD,CAAX;AACD,GATwB,EAStB,CAACF,OAAO,CAACK,OAAT,EAAkBX,WAAlB,EAA+BC,GAA/B,CATsB,CAAzB;AAUAL,EAAAA,SAAS,CAAC,YAAY;AACpBkB,IAAAA,QAAQ,CAACC,gBAAT,CAA0Bb,SAA1B,EAAqCK,OAArC;AACA,WAAO,YAAY;AACjBO,MAAAA,QAAQ,CAACE,mBAAT,CAA6Bd,SAA7B,EAAwCK,OAAxC;AACD,KAFD;AAGD,GALQ,EAKN,CAACL,SAAD,EAAYK,OAAZ,CALM,CAAT;AAMA,SAAOD,OAAP;AACD","sourcesContent":["import { useRef, useEffect, useCallback } from 'react'; // 鼠标点击事件，click 不会监听右键\n\nvar defaultEvent = 'click';\nexport default function useClickAway(onClickAway, dom) {\n  var eventName = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultEvent;\n  var element = useRef();\n  var handler = useCallback(function (event) {\n    var targetElement = typeof dom === 'function' ? dom() : dom;\n    var el = targetElement || element.current;\n\n    if (!el || el.contains(event.target)) {\n      return;\n    }\n\n    onClickAway(event);\n  }, [element.current, onClickAway, dom]);\n  useEffect(function () {\n    document.addEventListener(eventName, handler);\n    return function () {\n      document.removeEventListener(eventName, handler);\n    };\n  }, [eventName, handler]);\n  return element;\n}"]},"metadata":{},"sourceType":"module"}