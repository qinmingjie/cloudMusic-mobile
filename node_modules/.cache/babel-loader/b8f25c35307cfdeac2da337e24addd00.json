{"ast":null,"code":"var _jsxFileName = \"E:\\\\github-project\\\\cloudMusic-mobile\\\\src\\\\mobileconponemt\\\\msonglist.js\";\nimport React, { useEffect, Fragment } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport { usePlaydetail } from \"../store/action/index\";\nimport DetailTitle from \"../component/detailtitle\";\nimport { NavLink } from \"react-router-dom\";\nimport qs from \"qs\";\nexport default function MSongList() {\n  let [show, setShow] = useState(false); //获取地址栏中传过来的id以便于请求数据\n\n  let {\n    id\n  } = qs.parse(useLocation().search.slice(1)); //获取状态管理函数来管理歌单详情数据\n\n  let state = useSelector(state => {\n    return state.detailReducer;\n  }); //获取状态操作函数来请求数据\n\n  let getData = usePlaydetail();\n  useEffect(() => {\n    getData(`/playlist/detail?id=${id}`);\n  }, [id]); //结构出需要的数据\n\n  console.log(state);\n  let {\n    playlist\n  } = state.data;\n  let data = playlist;\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }\n  }, data ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detailWrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detailCoverImg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: data.coverImgUrl,\n    className: \"j-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"cover\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detailTxt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detailTiile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"detailIcon1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 58\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"detailh2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 33\n    }\n  }, data.name))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detailIcon2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"detailFace\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: data.creator.avatarUrl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 58\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"s-fc7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 29\n    }\n  }, data.creator.nickname)), /*#__PURE__*/React.createElement(\"sup\", {\n    className: \"detailIcon3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 29\n    }\n  }, \"\\xA0\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"detailTime\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 29\n    }\n  }, \"2020-3-1 \\u521B\\u5EFA\")), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"content-operation\",\n    className: detailIcons,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detailIcons1\",\n    title: \"\\u64AD\\u653E\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"em\", {\n    className: \"ply\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 37\n    }\n  }), \"\\u64AD\\u653E\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detailIcons2\",\n    hidefocus: \"true\",\n    title: \"\\u6DFB\\u52A0\\u5230\\u64AD\\u653E\\u5217\\u8868\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detailIcons3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 33\n    }\n  }, \"(\", String(data.playCount).slice(0, 4), \")\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detailIcons4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 33\n    }\n  }, \"(\", String(data.shareCount).slice(0, 4), \")\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detailIcons5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 33\n    }\n  }, \"(\", /*#__PURE__*/React.createElement(\"span\", {\n    id: \"cnt_comment_count\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 37\n    }\n  }, String(data.commentCount).slice(0, 4)), \")\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detailTags\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 29\n    }\n  }, \"\\u6807\\u7B7E\\uFF1A\"), data.tags.map((item, index) => {\n    return /*#__PURE__*/React.createElement(NavLink, {\n      key: item,\n      to: `/index/playlist?cat=${item}&limit=100&page=1`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 40\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 112\n      }\n    }, item));\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"album-desc-more\",\n    className: \"intr f-brk\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"detailSclieTxt\",\n    dangerouslySetInnerHTML: {\n      __html: data.description.replace(/\\n/g, `</br>`).length < 140 ? \"介绍：\" + data.description.replace(/\\n/g, `</br>`) : \"介绍：\" + (data.description.replace(/\\n/g, `</br>`).slice(0, 140) + \"...\")\n    },\n    style: show ? {\n      display: \"none\"\n    } : {\n      display: \"block\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"detailSclieAll\",\n    dangerouslySetInnerHTML: {\n      __html: \"介绍：\" + data.description.replace(/\\n/g, `</br>`)\n    },\n    style: !show ? {\n      display: \"none\"\n    } : {\n      display: \"block\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 29\n    }\n  }), data.description.replace(/\\n/g, `</br>`).length < 140 ? \"\" : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detailSelect\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 86\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    onClick: () => {\n      setShow(!show);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 118\n    }\n  }, show ? \"收起\" : \"展开\", /*#__PURE__*/React.createElement(\"i\", {\n    id: show ? detailShow : \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 48\n    }\n  }))))))) : \"\");\n}","map":{"version":3,"sources":["E:/github-project/cloudMusic-mobile/src/mobileconponemt/msonglist.js"],"names":["React","useEffect","Fragment","useLocation","useSelector","usePlaydetail","DetailTitle","NavLink","qs","MSongList","show","setShow","useState","id","parse","search","slice","state","detailReducer","getData","console","log","playlist","data","coverImgUrl","name","creator","avatarUrl","nickname","detailIcons","String","playCount","shareCount","commentCount","tags","map","item","index","__html","description","replace","length","display","detailShow"],"mappings":"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","sourcesContent":["import React,{useEffect, Fragment} from \"react\"\r\nimport {useLocation} from \"react-router-dom\"\r\nimport {useSelector} from \"react-redux\"\r\nimport {usePlaydetail} from \"../store/action/index\"\r\nimport DetailTitle from \"../component/detailtitle\"\r\nimport {NavLink} from \"react-router-dom\"\r\nimport qs from \"qs\"\r\nexport default function MSongList(){\r\n    let [show,setShow] = useState(false)\r\n    //获取地址栏中传过来的id以便于请求数据\r\n    let {id} = qs.parse(useLocation().search.slice(1))\r\n\r\n    //获取状态管理函数来管理歌单详情数据\r\n    let state = useSelector((state)=>{\r\n        return state.detailReducer\r\n    })\r\n    //获取状态操作函数来请求数据\r\n    let getData = usePlaydetail()\r\n\r\n    useEffect(()=>{\r\n        getData(`/playlist/detail?id=${id}`)\r\n    },[id])\r\n    //结构出需要的数据\r\n    console.log(state)\r\n    let {playlist} = state.data\r\n    let data = playlist\r\n    return (\r\n        <Fragment>\r\n             {data?\r\n            <div className={\"detailWrap\"}> \r\n                <div className={\"detailCoverImg\"}>\r\n                    <img src={data.coverImgUrl} className=\"j-img\"/>\r\n                    <span className={\"cover\"}></span>\r\n                </div>\r\n                <div className={\"detailTxt\"}>\r\n                    <div className=\"\">\r\n                        <div className={\"detailTiile\"}>\r\n                            <i className={\"detailIcon1\"}><span className=\"\" ></span></i>\r\n                            <div className=\"\">\r\n                                <h2 className={\"detailh2\"}>{data.name}</h2>\r\n                            </div>\r\n                        </div>\r\n                        <div className={\"detailIcon2\"}>\r\n                            <i className={\"detailFace\"} ><img src={data.creator.avatarUrl}/></i>\r\n                            <span className=\"name\">\r\n                            <i  className=\"s-fc7\">{data.creator.nickname}</i>\r\n                            </span>\r\n                            <sup className={\"detailIcon3\"}>&nbsp;</sup>\r\n                            <span className={\"detailTime\"}>2020-3-1 创建</span>\r\n                        </div>\r\n                        <div id=\"content-operation\" className={detailIcons}>\r\n                            <div className={\"detailIcons1\"} title=\"播放\">\r\n                                <i>\r\n                                    <em className=\"ply\"></em>播放\r\n                                </i>\r\n                            </div>\r\n                            <div className={\"detailIcons2\"} hidefocus=\"true\" title=\"添加到播放列表\"></div>\r\n                            <div  className={\"detailIcons3\"} >\r\n                                <i>({String(data.playCount).slice(0,4)})</i>\r\n                            </div>\r\n                            <div className={\"detailIcons4\"}>\r\n                                <i>({String(data.shareCount).slice(0,4)})</i>\r\n                            </div>\r\n                            <div className={\"detailIcons5\"}>\r\n                                <i>(<span id=\"cnt_comment_count\">{String(data.commentCount).slice(0,4)}</span>)</i>\r\n                            </div>\r\n                        </div>\r\n                        <div className={\"detailTags\"}>\r\n                            <b>标签：</b>\r\n                            {data.tags.map((item,index)=>{\r\n                                return <NavLink key={item} to={`/index/playlist?cat=${item}&limit=100&page=1`}><i>{item}</i></NavLink>\r\n                            })}\r\n                        </div>\r\n                        <div id=\"album-desc-more\" className=\"intr f-brk\">\r\n                            <p \r\n                                className={\"detailSclieTxt\"}\r\n                                dangerouslySetInnerHTML={{\r\n                                    __html:(data.description.replace(/\\n/g,`</br>`).length)<140?(\"介绍：\"+(data.description.replace(/\\n/g,`</br>`))):(\"介绍：\"+(data.description.replace(/\\n/g,`</br>`).slice(0,140) + \"...\"))\r\n                                }}\r\n                                style={show?{display:\"none\"}:{display:\"block\"}}\r\n                            >\r\n                            </p>\r\n                            <p \r\n                                className={\"detailSclieAll\"}\r\n                                dangerouslySetInnerHTML={{\r\n                                    __html:\"介绍：\" + (data.description.replace(/\\n/g,`</br>`))\r\n                                }}\r\n                                style={!show?{display:\"none\"}:{display:\"block\"}}\r\n                            >\r\n                            </p>\r\n                            {(data.description.replace(/\\n/g,`</br>`).length<140)?\"\":<div className={\"detailSelect\"}><span onClick={()=>{\r\n                               setShow(!show)\r\n                            }}>{show?\"收起\":\"展开\"}<i id={show?detailShow:\"\"}></i></span></div>}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>:\"\"}\r\n        </Fragment>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}